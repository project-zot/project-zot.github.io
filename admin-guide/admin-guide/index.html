<!doctype html><html lang=en class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Zot Registry"><link href=https://zotregistry.dev/admin-guide/admin-guide/ rel=canonical><link rel=icon href=../../assets/images/favicon.png><meta name=generator content="mkdocs-1.4.2, mkdocs-material-8.5.8"><title>zot Administrator Guide - zotregistry.dev</title><link rel=stylesheet href=../../assets/stylesheets/main.20d9efc8.min.css><link rel=stylesheet href=../../assets/stylesheets/palette.815d1a91.min.css><meta name=theme-color content=#000000><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback"><style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style><link rel=stylesheet href=../../stylesheets/custom.css><script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script></head> <body dir=ltr data-md-color-scheme=slate data-md-color-primary=black data-md-color-accent=teal> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#zot-administrator-guide class=md-skip> Skip to content </a> </div> <div data-md-component=announce> </div> <div data-md-component=outdated hidden> </div> <header class=md-header data-md-component=header> <nav class="md-header__inner md-grid" aria-label=Header> <a href=https://zotregistry.dev title=zotregistry.dev class="md-header__button md-logo" aria-label=zotregistry.dev data-md-component=logo> <img src=../../assets/images/logo.png alt=logo> </a> <label class="md-header__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg> </label> <div class=md-header__title data-md-component=header-title> <div class=md-header__ellipsis> <div class=md-header__topic> <span class=md-ellipsis> zotregistry.dev </span> </div> <div class=md-header__topic data-md-component=header-topic> <span class=md-ellipsis> zot Administrator Guide </span> </div> </div> </div> <label class="md-header__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=Search placeholder=Search autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query required> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg> </label> <nav class=md-search__options aria-label=Search> <a href=javascript:void(0) class="md-search__icon md-icon" title=Share aria-label=Share data-clipboard data-clipboard-text data-md-component=search-share tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7 0-.24-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91 1.61 0 2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08Z"/></svg> </a> <button type=reset class="md-search__icon md-icon" title=Clear aria-label=Clear tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg> </button> </nav> <div class=md-search__suggest data-md-component=search-suggest></div> </form> <div class=md-search__output> <div class=md-search__scrollwrap data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> Initializing search </div> <ol class=md-search-result__list></ol> </div> </div> </div> </div> </div> <div class=md-header__source> <a href=https://github.com/project-zot/zot title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 496 512"><!-- Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg> </div> <div class=md-source__repository> project-zot/zot </div> </a> </div> </nav> </header> <div class=md-container data-md-component=container> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary" aria-label=Navigation data-md-level=0> <label class=md-nav__title for=__drawer> <a href=https://zotregistry.dev title=zotregistry.dev class="md-nav__button md-logo" aria-label=zotregistry.dev data-md-component=logo> <img src=../../assets/images/logo.png alt=logo> </a> zotregistry.dev </label> <div class=md-nav__source> <a href=https://github.com/project-zot/zot title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 496 512"><!-- Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg> </div> <div class=md-source__repository> project-zot/zot </div> </a> </div> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../.. class=md-nav__link> Home </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_2 type=checkbox id=__nav_2> <label class=md-nav__link for=__nav_2> General <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=General data-md-level=1> <label class=md-nav__title for=__nav_2> <span class="md-nav__icon md-icon"></span> General </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../general/zot-concepts/ class=md-nav__link> Concepts </a> </li> <li class=md-nav__item> <a href=../../general/architecture/ class=md-nav__link> Architecture </a> </li> <li class=md-nav__item> <a href=../../general/artifacts/ class=md-nav__link> Artifacts </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_3 type=checkbox id=__nav_3> <label class=md-nav__link for=__nav_3> User Guides <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="User Guides" data-md-level=1> <label class=md-nav__title for=__nav_3> <span class="md-nav__icon md-icon"></span> User Guides </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../user-guides/user-guide-datapath/ class=md-nav__link> Push and Pull Image Content' </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_4 type=checkbox id=__nav_4> <label class=md-nav__link for=__nav_4> Installation Guides <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Installation Guides" data-md-level=1> <label class=md-nav__title for=__nav_4> <span class="md-nav__icon md-icon"></span> Installation Guides </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../install-guides/install-guide-linux/ class=md-nav__link> Installing zot on Bare Metal Linux </a> </li> <li class=md-nav__item> <a href=../../install-guides/install-guide-k8s/ class=md-nav__link> Installing zot with Kubernetes and Helm </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_5 type=checkbox id=__nav_5 checked> <label class=md-nav__link for=__nav_5> Administrator Guide <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Administrator Guide" data-md-level=1> <label class=md-nav__title for=__nav_5> <span class="md-nav__icon md-icon"></span> Administrator Guide </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--active"> <input class="md-nav__toggle md-toggle" data-md-toggle=toc type=checkbox id=__toc> <label class="md-nav__link md-nav__link--active" for=__toc> zot Administrator Guide <span class="md-nav__icon md-icon"></span> </label> <a href=./ class="md-nav__link md-nav__link--active"> zot Administrator Guide </a> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#getting-started class=md-nav__link> Getting started </a> <nav class=md-nav aria-label="Getting started"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#how-to-get-zot class=md-nav__link> How to get zot </a> <nav class=md-nav aria-label="How to get zot"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#supported-platforms class=md-nav__link> Supported platforms </a> </li> <li class=md-nav__item> <a href=#about-binary-images class=md-nav__link> About binary images </a> </li> <li class=md-nav__item> <a href=#deployment-methods class=md-nav__link> Deployment methods </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#deploying-a-zot-binary-image class=md-nav__link> Deploying a zot binary image </a> <nav class=md-nav aria-label="Deploying a zot binary image"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#example-deploying-with-a-container-manager class=md-nav__link> Example: Deploying with a container manager </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#building-zot-from-source class=md-nav__link> Building zot from source </a> <nav class=md-nav aria-label="Building zot from source"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#prerequisites class=md-nav__link> Prerequisites </a> <nav class=md-nav aria-label=Prerequisites> <ul class=md-nav__list> <li class=md-nav__item> <a href=#install-golang-117 class=md-nav__link> Install golang (1.17+) </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#building-an-executable-binary-from-source class=md-nav__link> Building an executable binary from source </a> </li> <li class=md-nav__item> <a href=#building-a-zot-container-image-from-source class=md-nav__link> Building a zot container image from source </a> </li> <li class=md-nav__item> <a href=#deploying-the-container-image class=md-nav__link> Deploying the container image </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#additional-recommended-steps class=md-nav__link> Additional recommended steps </a> </li> <li class=md-nav__item> <a href=#launching-zot class=md-nav__link> Launching zot </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#using-the-command-line-interface-zli class=md-nav__link> Using the command line interface (zli) </a> <nav class=md-nav aria-label="Using the command line interface (zli)"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#what-is-zli class=md-nav__link> What is zli? </a> </li> <li class=md-nav__item> <a href=#how-to-get-zli class=md-nav__link> How to get zli </a> <nav class=md-nav aria-label="How to get zli"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#supported-platforms_1 class=md-nav__link> Supported platforms </a> </li> <li class=md-nav__item> <a href=#downloading-zli-binaries class=md-nav__link> Downloading zli binaries </a> </li> <li class=md-nav__item> <a href=#building-zli-from-source class=md-nav__link> Building zli from source </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#common-tasks-using-zli class=md-nav__link> Common tasks using zli </a> <nav class=md-nav aria-label="Common tasks using zli"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#adding-a-zot-server-url class=md-nav__link> Adding a zot server URL </a> </li> <li class=md-nav__item> <a href=#listing-images class=md-nav__link> Listing images </a> </li> <li class=md-nav__item> <a href=#scanning-images-for-known-vulnerabilities class=md-nav__link> Scanning images for known vulnerabilities </a> </li> <li class=md-nav__item> <a href=#listing-repositories class=md-nav__link> Listing repositories </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#configuring-zot class=md-nav__link> Configuring zot </a> <nav class=md-nav aria-label="Configuring zot"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#configuration-file class=md-nav__link> Configuration file </a> </li> <li class=md-nav__item> <a href=#extension-features class=md-nav__link> Extension features </a> </li> <li class=md-nav__item> <a href=#verifying-the-configuration-file class=md-nav__link> Verifying the configuration file </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#network-configuration class=md-nav__link> Network configuration </a> </li> <li class=md-nav__item> <a href=#storage-configuration class=md-nav__link> Storage configuration </a> <nav class=md-nav aria-label="Storage configuration"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#storage-options class=md-nav__link> Storage options </a> </li> <li class=md-nav__item> <a href=#configuring-local-storage class=md-nav__link> Configuring local storage </a> </li> <li class=md-nav__item> <a href=#configuring-s3-storage class=md-nav__link> Configuring S3 storage </a> <nav class=md-nav aria-label="Configuring S3 storage"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#s3-credentials class=md-nav__link> S3 Credentials </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#security-and-hardening class=md-nav__link> Security and hardening </a> <nav class=md-nav aria-label="Security and hardening"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#authentication class=md-nav__link> Authentication </a> </li> <li class=md-nav__item> <a href=#identity-based-authorization class=md-nav__link> Identity-based authorization </a> </li> <li class=md-nav__item> <a href=#preventing-automated-attacks-with-failure-delay class=md-nav__link> Preventing automated attacks with failure delay </a> </li> <li class=md-nav__item> <a href=#rate-limiting class=md-nav__link> Rate limiting </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#syncing-and-mirroring-registries class=md-nav__link> Syncing and mirroring registries </a> <nav class=md-nav aria-label="Syncing and mirroring registries"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#synchronizing-registries class=md-nav__link> Synchronizing registries </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#monitoring class=md-nav__link> Monitoring </a> <nav class=md-nav aria-label=Monitoring> <ul class=md-nav__list> <li class=md-nav__item> <a href=#logging class=md-nav__link> Logging </a> </li> <li class=md-nav__item> <a href=#metrics class=md-nav__link> Metrics </a> <nav class=md-nav aria-label=Metrics> <ul class=md-nav__list> <li class=md-nav__item> <a href=#enabling-metrics-for-a-full-zot-image-with-extensions class=md-nav__link> Enabling metrics for a full zot image with extensions </a> </li> <li class=md-nav__item> <a href=#collecting-metrics-from-a-minimal-zot-image-using-a-node-exporter class=md-nav__link> Collecting metrics from a minimal zot image using a node exporter </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#benchmarking-zot-with-zb class=md-nav__link> Benchmarking zot with zb </a> </li> <li class=md-nav__item> <a href=#enterprise-wide-zot class=md-nav__link> Enterprise-wide zot </a> <nav class=md-nav aria-label="Enterprise-wide zot"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#clustering-zot class=md-nav__link> Clustering zot </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#maintenance class=md-nav__link> Maintenance </a> <nav class=md-nav aria-label=Maintenance> <ul class=md-nav__list> <li class=md-nav__item> <a href=#scrubbing-the-image-registry class=md-nav__link> Scrubbing the image registry </a> </li> <li class=md-nav__item> <a href=#searching-and-querying-images class=md-nav__link> Searching and querying images </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#reference class=md-nav__link> Reference </a> <nav class=md-nav aria-label=Reference> <ul class=md-nav__list> <li class=md-nav__item> <a href=#zli-command-reference class=md-nav__link> zli Command Reference </a> <nav class=md-nav aria-label="zli Command Reference"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#zli class=md-nav__link> zli </a> </li> <li class=md-nav__item> <a href=#zli-completion class=md-nav__link> zli completion </a> </li> <li class=md-nav__item> <a href=#zli-config class=md-nav__link> zli config </a> </li> <li class=md-nav__item> <a href=#zli-cve class=md-nav__link> zli cve </a> </li> <li class=md-nav__item> <a href=#zli-images class=md-nav__link> zli images </a> </li> <li class=md-nav__item> <a href=#zli-repos class=md-nav__link> zli repos </a> </li> </ul> </nav> </li> </ul> </nav> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_6 type=checkbox id=__nav_6> <label class=md-nav__link for=__nav_6> Developer Guide <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Developer Guide" data-md-level=1> <label class=md-nav__title for=__nav_6> <span class="md-nav__icon md-icon"></span> Developer Guide </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../developer-guide/developer-guide/ class=md-nav__link> zot Developer Guide </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_7 type=checkbox id=__nav_7> <label class=md-nav__link for=__nav_7> Articles <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Articles data-md-level=1> <label class=md-nav__title for=__nav_7> <span class="md-nav__icon md-icon"></span> Articles </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../articles/building-ci-cd-pipeline/ class=md-nav__link> CI/CD Pipeline </a> </li> <li class=md-nav__item> <a href=../../articles/authn-authz/ class=md-nav__link> Authentication and Authorization </a> </li> <li class=md-nav__item> <a href=../../articles/security-posture/ class=md-nav__link> Security Posture </a> </li> <li class=md-nav__item> <a href=../../articles/storage/ class=md-nav__link> Storage Planning </a> </li> <li class=md-nav__item> <a href=../../articles/clustering/ class=md-nav__link> Clustering </a> </li> <li class=md-nav__item> <a href=../../articles/benchmarking-with-zb/ class=md-nav__link> Benchmarking with zb </a> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=sidebar data-md-type=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#getting-started class=md-nav__link> Getting started </a> <nav class=md-nav aria-label="Getting started"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#how-to-get-zot class=md-nav__link> How to get zot </a> <nav class=md-nav aria-label="How to get zot"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#supported-platforms class=md-nav__link> Supported platforms </a> </li> <li class=md-nav__item> <a href=#about-binary-images class=md-nav__link> About binary images </a> </li> <li class=md-nav__item> <a href=#deployment-methods class=md-nav__link> Deployment methods </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#deploying-a-zot-binary-image class=md-nav__link> Deploying a zot binary image </a> <nav class=md-nav aria-label="Deploying a zot binary image"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#example-deploying-with-a-container-manager class=md-nav__link> Example: Deploying with a container manager </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#building-zot-from-source class=md-nav__link> Building zot from source </a> <nav class=md-nav aria-label="Building zot from source"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#prerequisites class=md-nav__link> Prerequisites </a> <nav class=md-nav aria-label=Prerequisites> <ul class=md-nav__list> <li class=md-nav__item> <a href=#install-golang-117 class=md-nav__link> Install golang (1.17+) </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#building-an-executable-binary-from-source class=md-nav__link> Building an executable binary from source </a> </li> <li class=md-nav__item> <a href=#building-a-zot-container-image-from-source class=md-nav__link> Building a zot container image from source </a> </li> <li class=md-nav__item> <a href=#deploying-the-container-image class=md-nav__link> Deploying the container image </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#additional-recommended-steps class=md-nav__link> Additional recommended steps </a> </li> <li class=md-nav__item> <a href=#launching-zot class=md-nav__link> Launching zot </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#using-the-command-line-interface-zli class=md-nav__link> Using the command line interface (zli) </a> <nav class=md-nav aria-label="Using the command line interface (zli)"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#what-is-zli class=md-nav__link> What is zli? </a> </li> <li class=md-nav__item> <a href=#how-to-get-zli class=md-nav__link> How to get zli </a> <nav class=md-nav aria-label="How to get zli"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#supported-platforms_1 class=md-nav__link> Supported platforms </a> </li> <li class=md-nav__item> <a href=#downloading-zli-binaries class=md-nav__link> Downloading zli binaries </a> </li> <li class=md-nav__item> <a href=#building-zli-from-source class=md-nav__link> Building zli from source </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#common-tasks-using-zli class=md-nav__link> Common tasks using zli </a> <nav class=md-nav aria-label="Common tasks using zli"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#adding-a-zot-server-url class=md-nav__link> Adding a zot server URL </a> </li> <li class=md-nav__item> <a href=#listing-images class=md-nav__link> Listing images </a> </li> <li class=md-nav__item> <a href=#scanning-images-for-known-vulnerabilities class=md-nav__link> Scanning images for known vulnerabilities </a> </li> <li class=md-nav__item> <a href=#listing-repositories class=md-nav__link> Listing repositories </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#configuring-zot class=md-nav__link> Configuring zot </a> <nav class=md-nav aria-label="Configuring zot"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#configuration-file class=md-nav__link> Configuration file </a> </li> <li class=md-nav__item> <a href=#extension-features class=md-nav__link> Extension features </a> </li> <li class=md-nav__item> <a href=#verifying-the-configuration-file class=md-nav__link> Verifying the configuration file </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#network-configuration class=md-nav__link> Network configuration </a> </li> <li class=md-nav__item> <a href=#storage-configuration class=md-nav__link> Storage configuration </a> <nav class=md-nav aria-label="Storage configuration"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#storage-options class=md-nav__link> Storage options </a> </li> <li class=md-nav__item> <a href=#configuring-local-storage class=md-nav__link> Configuring local storage </a> </li> <li class=md-nav__item> <a href=#configuring-s3-storage class=md-nav__link> Configuring S3 storage </a> <nav class=md-nav aria-label="Configuring S3 storage"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#s3-credentials class=md-nav__link> S3 Credentials </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#security-and-hardening class=md-nav__link> Security and hardening </a> <nav class=md-nav aria-label="Security and hardening"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#authentication class=md-nav__link> Authentication </a> </li> <li class=md-nav__item> <a href=#identity-based-authorization class=md-nav__link> Identity-based authorization </a> </li> <li class=md-nav__item> <a href=#preventing-automated-attacks-with-failure-delay class=md-nav__link> Preventing automated attacks with failure delay </a> </li> <li class=md-nav__item> <a href=#rate-limiting class=md-nav__link> Rate limiting </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#syncing-and-mirroring-registries class=md-nav__link> Syncing and mirroring registries </a> <nav class=md-nav aria-label="Syncing and mirroring registries"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#synchronizing-registries class=md-nav__link> Synchronizing registries </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#monitoring class=md-nav__link> Monitoring </a> <nav class=md-nav aria-label=Monitoring> <ul class=md-nav__list> <li class=md-nav__item> <a href=#logging class=md-nav__link> Logging </a> </li> <li class=md-nav__item> <a href=#metrics class=md-nav__link> Metrics </a> <nav class=md-nav aria-label=Metrics> <ul class=md-nav__list> <li class=md-nav__item> <a href=#enabling-metrics-for-a-full-zot-image-with-extensions class=md-nav__link> Enabling metrics for a full zot image with extensions </a> </li> <li class=md-nav__item> <a href=#collecting-metrics-from-a-minimal-zot-image-using-a-node-exporter class=md-nav__link> Collecting metrics from a minimal zot image using a node exporter </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#benchmarking-zot-with-zb class=md-nav__link> Benchmarking zot with zb </a> </li> <li class=md-nav__item> <a href=#enterprise-wide-zot class=md-nav__link> Enterprise-wide zot </a> <nav class=md-nav aria-label="Enterprise-wide zot"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#clustering-zot class=md-nav__link> Clustering zot </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#maintenance class=md-nav__link> Maintenance </a> <nav class=md-nav aria-label=Maintenance> <ul class=md-nav__list> <li class=md-nav__item> <a href=#scrubbing-the-image-registry class=md-nav__link> Scrubbing the image registry </a> </li> <li class=md-nav__item> <a href=#searching-and-querying-images class=md-nav__link> Searching and querying images </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#reference class=md-nav__link> Reference </a> <nav class=md-nav aria-label=Reference> <ul class=md-nav__list> <li class=md-nav__item> <a href=#zli-command-reference class=md-nav__link> zli Command Reference </a> <nav class=md-nav aria-label="zli Command Reference"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#zli class=md-nav__link> zli </a> </li> <li class=md-nav__item> <a href=#zli-completion class=md-nav__link> zli completion </a> </li> <li class=md-nav__item> <a href=#zli-config class=md-nav__link> zli config </a> </li> <li class=md-nav__item> <a href=#zli-cve class=md-nav__link> zli cve </a> </li> <li class=md-nav__item> <a href=#zli-images class=md-nav__link> zli images </a> </li> <li class=md-nav__item> <a href=#zli-repos class=md-nav__link> zli repos </a> </li> </ul> </nav> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class=md-content data-md-component=content> <article class="md-content__inner md-typeset"> <h1 id=zot-administrator-guide>zot Administrator Guide<a class=headerlink href=#zot-administrator-guide title="Permanent link">&para;</a></h1> <p>Revised: 2022-08-09</p> <h2 id=getting-started>Getting started<a class=headerlink href=#getting-started title="Permanent link">&para;</a></h2> <h3 id=how-to-get-zot>How to get <code>zot</code><a class=headerlink href=#how-to-get-zot title="Permanent link">&para;</a></h3> <p>The <code>zot</code> project is hosted on GitHub at <a href=https://github.com/project-zot/zot>project-zot</a>. From GitHub, you can download <code>zot</code> executable binary images or full source code.</p> <p><a name=supported-platforms-zot></a></p> <h4 id=supported-platforms>Supported platforms<a class=headerlink href=#supported-platforms title="Permanent link">&para;</a></h4> <p><code>zot</code> is officially supported on Linux and Apple MacOS platforms, using Intel or ARM processors. However, development should be possible on any platform that supports the <code>golang</code> toolchain.</p> <table> <thead> <tr> <th>OS</th> <th>ARCH</th> <th>Platform</th> </tr> </thead> <tbody> <tr> <td>linux</td> <td>amd64</td> <td>Intel-based Linux servers</td> </tr> <tr> <td>linux</td> <td>arm64</td> <td>ARM-based servers and Raspberry Pi4</td> </tr> <tr> <td>darwin</td> <td>amd64</td> <td>Intel-based MacOS</td> </tr> <tr> <td>darwin</td> <td>arm64</td> <td>ARM-based MacOS</td> </tr> </tbody> </table> <h4 id=about-binary-images>About binary images<a class=headerlink href=#about-binary-images title="Permanent link">&para;</a></h4> <p>Executable binary zot images are available for multiple platforms and architectures and with full or minimal implementations.</p> <p>Refer to <a href=../../general/artifacts/ ><em>Released Artifacts for zot</em></a> for information about available zot images along with information about image variations, image locations, and image naming formats.</p> <h4 id=deployment-methods>Deployment methods<a class=headerlink href=#deployment-methods title="Permanent link">&para;</a></h4> <p>Several options exist for deploying <code>zot</code>:</p> <ul> <li> <p>You can launch a <code>zot</code> binary as a container service using a container management tool such as Podman, Docker, or Helm.</p> </li> <li> <p>You can launch <code>zot</code> as a host-level service by downloading a binary image and running it as a systemd service.</p> </li> <li> <p>You can copy or clone the full <code>zot</code> source code and build an image with custom build flags.</p> </li> </ul> <h3 id=deploying-a-zot-binary-image>Deploying a <code>zot</code> binary image<a class=headerlink href=#deploying-a-zot-binary-image title="Permanent link">&para;</a></h3> <p>Executable binary images for supported server platforms and architectures are available from the <a href="https://github.com/orgs/project-zot/packages?repo_name=zot">zot package repository</a> in GitHub.</p> <p>You can download the appropriate binary image and run it directly on your server, or you can use a container management tool such as Podman, runc, Helm, or Docker to fetch and deploy the image in a container on your server.</p> <blockquote> <p><strong>Tip:</strong> For convenience, you can rename the binary image file to simply <code>zot.</code></p> </blockquote> <h4 id=example-deploying-with-a-container-manager>Example: Deploying with a container manager<a class=headerlink href=#example-deploying-with-a-container-manager title="Permanent link">&para;</a></h4> <p>Using a container manager such as Podman, runc, Helm, or Docker, you can install a <code>zot</code> binary image, as in the following examples.</p> <p><strong>Using Podman</strong></p> <div class=highlight><pre><span></span><code>podman run -p 5000:5000 ghcr.io/project-zot/zot-linux-amd64:latest

podman run -p 5000:5000 ghcr.io/project-zot/zot-linux-amd64-minimal:latest
</code></pre></div> <p><strong>Using Docker</strong></p> <div class=highlight><pre><span></span><code>docker run -p 5000:5000 ghcr.io/project-zot/zot-linux-amd64:latest
</code></pre></div> <p>Each of these example commands pulls a <code>zot</code> binary image from the GitHub Container Registry (ghcr.io) and launches a <code>zot</code> image registry at <a href=http://localhost:5000>http://localhost:5000</a>.</p> <h3 id=building-zot-from-source>Building <code>zot</code> from source<a class=headerlink href=#building-zot-from-source title="Permanent link">&para;</a></h3> <h4 id=prerequisites>Prerequisites<a class=headerlink href=#prerequisites title="Permanent link">&para;</a></h4> <h5 id=install-golang-117>Install golang (1.17+)<a class=headerlink href=#install-golang-117 title="Permanent link">&para;</a></h5> <p>The zot project requires <code>golang 1.17</code> or newer. You can follow <a href=https://go.dev/learn/ >these instructions</a> to install the <code>golang</code> toolchain. After installation, make sure that the <code>path</code> environment variable or your IDE can find the toolchain.</p> <h4 id=building-an-executable-binary-from-source>Building an executable binary from source<a class=headerlink href=#building-an-executable-binary-from-source title="Permanent link">&para;</a></h4> <p>Download or clone the full <code>zot</code> project from GitHub at <a href=https://github.com/project-zot/zot>project-zot</a>. To clone the <code>zot</code> project from GitHub, use this command:</p> <div class=highlight><pre><span></span><code>git clone https://github.com/project-zot/zot.git
</code></pre></div> <p>To build <code>zot</code>, execute the <code>make</code> command in the <code>zot</code> directory using the following general syntax:</p> <p><code>make OS=os ARCH=architecture {binary | binary-minimal}</code></p> <blockquote> <ul> <li> <p>The operating system and architecture options are listed in the <a href=#supported-platforms-zot>Supported platforms and architectures</a> table. If an option is not specified, the defaults are <code>linux</code> and <code>amd64</code>.</p> </li> <li> <p>The <code>binary</code> option builds the full <code>zot</code> binary image with all extensions.</p> </li> <li> <p>The <code>binary-minimal</code> option builds the minimal distribution-spec conformant <code>zot</code> binary image without extensions, reducing the attack surface.</p> </li> </ul> </blockquote> <p>For example, to build a <code>zot</code> image with extensions for an Intel-based linux server, use the following command:</p> <div class=highlight><pre><span></span><code>make OS=linux ARCH=amd64 binary
</code></pre></div> <p>The <code>make</code> command builds an executable image in the <code>zot/bin</code> directory. The original filename of the <code>zot</code> executable image will indicate the build options. For example, the filename of an Intel-based linux minimal image is <code>zot-linux-amd64-minimal</code>.</p> <blockquote> <p><strong>Tip:</strong> For convenience, you can rename the binary image file to simply <code>zot</code>.</p> </blockquote> <h4 id=building-a-zot-container-image-from-source>Building a <code>zot</code> container image from source<a class=headerlink href=#building-a-zot-container-image-from-source title="Permanent link">&para;</a></h4> <p><strong>with Stacker</strong></p> <p>Using the settings in stacker.yaml, you can build a container image that runs the latest <code>zot</code> by running the following command:</p> <div class=highlight><pre><span></span><code>make binary-stacker
</code></pre></div> <p><strong>with Docker</strong></p> <p>A sample Dockerfile is provided on the <a href=https://github.com/project-zot/zot/tree/main/build/Dockerfile>zot project page</a> in GitHub. You can edit the sample file with your specific values, such as the desired operating system, hardware architecture, and full or minimal build, as in this example:</p> <div class=highlight><pre><span></span><code>ARG OS=linux
ARG ARCH=amd64

RUN make COMMIT=$COMMIT OS=$OS ARCH=$ARCH clean binary-minimal
</code></pre></div> <p>Using your edited Dockerfile, you can build a container image that runs the latest <code>zot</code> by running the following command:</p> <div class=highlight><pre><span></span><code>make image
</code></pre></div> <h4 id=deploying-the-container-image>Deploying the container image<a class=headerlink href=#deploying-the-container-image title="Permanent link">&para;</a></h4> <p>Deploy the image using your container manager, such as Podman, runc, Helm, or Docker, as in these examples:</p> <p><strong>with Podman</strong></p> <div class=highlight><pre><span></span><code>podman run --rm -it -p 5000:5000 -v $(pwd)/registry:/var/lib/registry zot:latest
</code></pre></div> <p><strong>with Docker</strong></p> <div class=highlight><pre><span></span><code>docker run --rm -it -p 5000:5000 -v $(pwd)/registry:/var/lib/registry zot:latest
</code></pre></div> <p>A container image built with the sample Dockerfile and deployed with the example command results in a running registry at <code>http://localhost:5000</code>. Registry content is stored at <code>.registry</code>, which is bind mounted to <code>/var/lib/registry</code> in the container. By default, auth is disabled. As part of the build, a YAML configuration file is created at <code>/etc/zot/config.yml</code> in the container.</p> <p>You can override the configuration file with custom configuration settings in the deployment command and in a local configuration file as shown in this example:</p> <div class=highlight><pre><span></span><code>podman run --rm -p 8080:8080 \
  -v $(pwd)/custom-config.yml:/etc/zot/config.yml \
  -v $(pwd)/registry:/tmp/zot \
  zot:latest
</code></pre></div> <p>This command causes the registry to listen on port 8080 and to use <code>/tmp/zot</code> for content storage.</p> <h3 id=additional-recommended-steps>Additional recommended steps<a class=headerlink href=#additional-recommended-steps title="Permanent link">&para;</a></h3> <p>We recommend that, when deploying <code>zot</code>, you also install the command line (<a href=#_zli_chapter>zli</a>) and benchmarking (<a href=#_zb_chapter>zb</a>) packages.</p> <h3 id=launching-zot>Launching <code>zot</code><a class=headerlink href=#launching-zot title="Permanent link">&para;</a></h3> <blockquote> <p><strong>Note:</strong> For convenience, you can rename the binary image file to simply <code>zot</code>.The instructions and examples in this guide use <code>zot</code> as the name of the <code>zot</code> executable file and do not include the path to the executable file.</p> </blockquote> <p>The <code>zot</code> service is initiated with the <code>zot serve</code> command followed by the name of a configuration file.</p> <p>The configuration file is a JSON or YAML file that contains all configuration settings for <code>zot</code> functions. Using the information in this guide, you can compose a configuration file with the settings and features you require for your <code>zot</code> registry server.</p> <blockquote> <p><strong>Tip:</strong> For convenience, you can rename the binary image file to simply <code>zot</code>.Before launching <code>zot</code>, you can check your configuration file for errors or conflicts using the procedure described in <a href=#verifying-config>Verifying the configuration file</a>.</p> </blockquote> <p>When ready, you can launch <code>zot</code> using the following command:</p> <p><code>zot serve configfile</code></p> <p><a name=_zli_chapter></a></p> <h2 id=using-the-command-line-interface-zli>Using the command line interface (zli)<a class=headerlink href=#using-the-command-line-interface-zli title="Permanent link">&para;</a></h2> <h3 id=what-is-zli>What is zli?<a class=headerlink href=#what-is-zli title="Permanent link">&para;</a></h3> <p>zli is a binary that implements a set of command line commands for interacting with the zot registry server.</p> <blockquote> <p><strong>Tip:</strong> We recommend installing zli when you install <code>zot</code>.</p> </blockquote> <h3 id=how-to-get-zli>How to get zli<a class=headerlink href=#how-to-get-zli title="Permanent link">&para;</a></h3> <p>zli is hosted with <code>zot</code> on GitHub at <a href=https://github.com/project-zot/zot>project-zot</a>. From GitHub, you can download the zli binary or you can build zli from the source.</p> <p><a name=supported-platforms-zli></a></p> <h4 id=supported-platforms_1>Supported platforms<a class=headerlink href=#supported-platforms_1 title="Permanent link">&para;</a></h4> <p>zli is supported for the following operating systems and platform architectures:</p> <table> <thead> <tr> <th>OS</th> <th>ARCH</th> <th>Platform</th> </tr> </thead> <tbody> <tr> <td>linux</td> <td>amd64</td> <td>Intel-based Linux servers</td> </tr> <tr> <td>linux</td> <td>arm64</td> <td>ARM-based servers and Raspberry Pi4</td> </tr> <tr> <td>darwin</td> <td>amd64</td> <td>Intel-based MacOS</td> </tr> <tr> <td>darwin</td> <td>arm64</td> <td>ARM-based MacOS</td> </tr> </tbody> </table> <h4 id=downloading-zli-binaries>Downloading zli binaries<a class=headerlink href=#downloading-zli-binaries title="Permanent link">&para;</a></h4> <p>You can download the executable binary for your server platform and architecture under "Assets" on the GitHub <a href=https://github.com/project-zot/zot/releases>zot releases</a> page.</p> <p>The binary image is named using the OS and architecture from the <a href=#supported-platforms-zli>Supported platforms</a> table. For example, the binary for an Intel-based MacOS server is <code>zli-darwin-amd64.</code></p> <h4 id=building-zli-from-source>Building zli from source<a class=headerlink href=#building-zli-from-source title="Permanent link">&para;</a></h4> <p>To build the zli binary, copy or clone the <code>zot</code> project from GitHub and execute the <code>make cli</code> command in the <code>zot</code> directory. Use the same command options that you used to build zot, as shown:</p> <p><code>make OS=os ARCH=architecture cli</code></p> <p>For example, the following command builds zli for an Intel-based MacOS server:</p> <div class=highlight><pre><span></span><code>make OS=darwin ARCH=amd64 cli
</code></pre></div> <p>In this example, the resulting executable file is <code>zli-darwin-amd64</code> in the <code>zot/bin</code> directory.</p> <h3 id=common-tasks-using-zli>Common tasks using zli<a class=headerlink href=#common-tasks-using-zli title="Permanent link">&para;</a></h3> <p>This section includes examples of common zot server tasks using the zli command line interface. For a detailed listing of zli commands, see the <a href=#_zli-command-reference>zli Command Reference</a> in this guide.</p> <blockquote> <p><strong>Tip:</strong> For convenience, you can rename the binary image file to simply <code>zot</code>.The instructions and examples in this guide use <code>zli</code> as the name of the executable file.</p> <p>The original filename of the executable file will reflect the build options, such as <code>zli-linux-amd64</code>. For convenience, you can rename the executable to simply <code>zli</code>.</p> </blockquote> <h4 id=adding-a-zot-server-url>Adding a zot server URL<a class=headerlink href=#adding-a-zot-server-url title="Permanent link">&para;</a></h4> <p>You can modify the zot server configuration using the <a href=#_zli-config><code>zli config add</code></a> command. This example adds a zot server URL with an alias of <code>remote-zot</code>:</p> <div class=highlight><pre><span></span><code>bin/zli config add remote-zot https://server-example:8080
</code></pre></div> <p>Use the <a href=#_zli-config><code>zli config</code></a> command to list all configured URLs with their aliases:</p> <div class=highlight><pre><span></span><code>$ bin/zli config -l

remote-zot   https://server-example:8080
local        http://localhost:8080
</code></pre></div> <h4 id=listing-images>Listing images<a class=headerlink href=#listing-images title="Permanent link">&para;</a></h4> <p>You can list all images hosted on a zot server using the <a href=#_zli-images><code>zli images</code></a> command with the server’s alias:</p> <div class=highlight><pre><span></span><code>$ bin/zli images remote-zot

IMAGE NAME        TAG               DIGEST    SIZE
postgres          9.6.18-alpine     ef27f3e1  14.4MB
postgres          9.5-alpine        264450a7  14.4MB
busybox           latest            414aeb86  707.8KB
</code></pre></div> <p>You can also filter the image list to view a specific image by specifying the image name:</p> <div class=highlight><pre><span></span><code>$ bin/zli images remote-zot -n busybox

IMAGE NAME        TAG               DIGEST    SIZE
busybox           latest            414aeb86  707.8KB
</code></pre></div> <h4 id=scanning-images-for-known-vulnerabilities>Scanning images for known vulnerabilities<a class=headerlink href=#scanning-images-for-known-vulnerabilities title="Permanent link">&para;</a></h4> <p>Using the <a href=#_zli-cve><code>zli cve</code></a> command, you can fetch the CVE (Common Vulnerabilities and Exposures) information for images hosted on the zot server. This example shows how to learn which images are affected by a specific CVE:</p> <div class=highlight><pre><span></span><code>$ bin/zli cve remote-zot -i CVE-2017-9935

IMAGE NAME        TAG               DIGEST    SIZE
c3/openjdk-dev    commit-5be4d92    ac3762e2  335MB
</code></pre></div> <p>This example displays a list all CVEs affecting a specific image:</p> <div class=highlight><pre><span></span><code>$ bin/zli cve remote-zot -I c3/openjdk-dev:0.3.19

ID                SEVERITY  TITLE
CVE-2015-8540     LOW       libpng: underflow read in png_check_keyword()
CVE-2017-16826    LOW       binutils: Invalid memory access in the coff_s...
</code></pre></div> <p>This example displays the detailed CVEs in JSON format:</p> <div class=highlight><pre><span></span><code>$ bin/zli cve remote-zot -I c3/openjdk-dev:0.3.19 -o json
{
  &quot;Tag&quot;: &quot;0.3.19&quot;,
  &quot;CVEList&quot;: [
    {
      &quot;Id&quot;: &quot;CVE-2019-17006&quot;,
      &quot;Severity&quot;: &quot;MEDIUM&quot;,
      &quot;Title&quot;: &quot;nss: Check length of inputs for cryptographic primitives&quot;,
      &quot;Description&quot;: &quot;A vulnerability was discovered in nss where input text length was not checked when using certain cryptographic primitives. This could lead to a heap-buffer overflow resulting in a crash and data leak. The highest threat is to confidentiality and integrity of data as well as system availability.&quot;,
      &quot;PackageList&quot;: [
        {
          &quot;Name&quot;: &quot;nss&quot;,
          &quot;InstalledVersion&quot;: &quot;3.44.0-7.el7_7&quot;,
          &quot;FixedVersion&quot;: &quot;Not Specified&quot;
        },
        {
          &quot;Name&quot;: &quot;nss-sysinit&quot;,
          &quot;InstalledVersion&quot;: &quot;3.44.0-7.el7_7&quot;,
          &quot;FixedVersion&quot;: &quot;Not Specified&quot;
        },
        {
          &quot;Name&quot;: &quot;nss-tools&quot;,
          &quot;InstalledVersion&quot;: &quot;3.44.0-7.el7_7&quot;,
          &quot;FixedVersion&quot;: &quot;Not Specified&quot;
        }]
    }]
}
</code></pre></div> <p>This example lists all images on a specific zot server that are affected by a specific CVE:</p> <div class=highlight><pre><span></span><code>$ bin/zli cve remote-zot -I c3/openjdk-dev -i CVE-2017-9935

IMAGE NAME        TAG               DIGEST    SIZE
c3/openjdk-dev    commit-2674e8a    71046748  338MB
c3/openjdk-dev    commit-bd5cc94    0ab7fc76
</code></pre></div> <p>This example lists all images on a specific zot server where the CVE has been fixed:</p> <div class=highlight><pre><span></span><code>$ bin/zli cve remote-zot -I c3/openjdk-dev -i CVE-2017-9935 --fixed

IMAGE NAME        TAG                       DIGEST    SIZE
c3/openjdk-dev    commit-2674e8a-squashfs   b545b8ba  321MB
c3/openjdk-dev    commit-d5024ec-squashfs   cd45f8cf  321MB
</code></pre></div> <h4 id=listing-repositories>Listing repositories<a class=headerlink href=#listing-repositories title="Permanent link">&para;</a></h4> <p>You can list all repositories hosted on a zot server using the <a href=#_zli-repos><code>zli repos</code></a> command with the server’s alias:</p> <div class=highlight><pre><span></span><code>Searching... 🌍

REPOSITORY NAME
alpine
busybox
</code></pre></div> <h2 id=configuring-zot>Configuring <code>zot</code><a class=headerlink href=#configuring-zot title="Permanent link">&para;</a></h2> <h3 id=configuration-file>Configuration file<a class=headerlink href=#configuration-file title="Permanent link">&para;</a></h3> <blockquote> <p><strong>Note:</strong> The instructions and examples in this guide use <code>zot</code> as the name of the <code>zot</code> executable file. The examples do not include the path to the executable file.</p> </blockquote> <p>The <code>zot</code> service is initiated with the <code>zot serve</code> command followed by the name of a configuration file. The configuration file is a JSON or YAML file that contains all configuration settings for <code>zot</code> functions such as:</p> <ul> <li> <p>network</p> </li> <li> <p>storage</p> </li> <li> <p>authentication</p> </li> <li> <p>authorization</p> </li> <li> <p>logging</p> </li> <li> <p>metrics</p> </li> <li> <p>synchronization with other registries</p> </li> <li> <p>clustering</p> </li> </ul> <p>A simple JSON configuration file is shown in the following example.</p> <div class=highlight><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=p>{</span><span class=w></span>
<a id=__codelineno-0-2 name=__codelineno-0-2 href=#__codelineno-0-2></a><span class=w>    </span><span class=nt>&quot;distSpecVersion&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;1.0.1&quot;</span><span class=p>,</span><span class=w></span>
<a id=__codelineno-0-3 name=__codelineno-0-3 href=#__codelineno-0-3></a><span class=w>    </span><span class=nt>&quot;storage&quot;</span><span class=p>:</span><span class=w> </span><span class=p>{</span><span class=w></span>
<a id=__codelineno-0-4 name=__codelineno-0-4 href=#__codelineno-0-4></a><span class=w>        </span><span class=nt>&quot;rootDirectory&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;/tmp/zot&quot;</span><span class=w></span>
<a id=__codelineno-0-5 name=__codelineno-0-5 href=#__codelineno-0-5></a><span class=w>    </span><span class=p>},</span><span class=w></span>
<a id=__codelineno-0-6 name=__codelineno-0-6 href=#__codelineno-0-6></a><span class=w>    </span><span class=nt>&quot;http&quot;</span><span class=p>:</span><span class=w> </span><span class=p>{</span><span class=w></span>
<a id=__codelineno-0-7 name=__codelineno-0-7 href=#__codelineno-0-7></a><span class=w>        </span><span class=nt>&quot;address&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;127.0.0.1&quot;</span><span class=p>,</span><span class=w></span>
<a id=__codelineno-0-8 name=__codelineno-0-8 href=#__codelineno-0-8></a><span class=w>        </span><span class=nt>&quot;port&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;8080&quot;</span><span class=w></span>
<a id=__codelineno-0-9 name=__codelineno-0-9 href=#__codelineno-0-9></a><span class=w>    </span><span class=p>},</span><span class=w></span>
<a id=__codelineno-0-10 name=__codelineno-0-10 href=#__codelineno-0-10></a><span class=w>    </span><span class=nt>&quot;log&quot;</span><span class=p>:</span><span class=w> </span><span class=p>{</span><span class=w></span>
<a id=__codelineno-0-11 name=__codelineno-0-11 href=#__codelineno-0-11></a><span class=w>        </span><span class=nt>&quot;level&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;debug&quot;</span><span class=w></span>
<a id=__codelineno-0-12 name=__codelineno-0-12 href=#__codelineno-0-12></a><span class=w>    </span><span class=p>}</span><span class=w></span>
<a id=__codelineno-0-13 name=__codelineno-0-13 href=#__codelineno-0-13></a><span class=p>}</span><span class=w></span>
</code></pre></div> <p>The configuration file contains the distribution specification version (<code>distSpecVersion</code>). The structure and content of other attributes are described in the later sections of this guide.</p> <p>Using the information in this guide, you can compose a configuration file with the settings and features you require for your <code>zot</code> registry server.</p> <h3 id=extension-features>Extension features<a class=headerlink href=#extension-features title="Permanent link">&para;</a></h3> <p>With a full <code>zot</code> image, additional extension features can be enabled and configured under an <code>extensions</code> attribute in the configuration file as shown in the following example.</p> <div class=highlight><pre><span></span><code><a id=__codelineno-1-1 name=__codelineno-1-1 href=#__codelineno-1-1></a><span class=p>{</span><span class=w></span>
<a id=__codelineno-1-2 name=__codelineno-1-2 href=#__codelineno-1-2></a><span class=w>  </span><span class=err>...</span><span class=w></span>
<a id=__codelineno-1-3 name=__codelineno-1-3 href=#__codelineno-1-3></a><span class=w>  </span><span class=nt>&quot;extensions&quot;</span><span class=p>:</span><span class=w> </span><span class=p>{</span><span class=w></span>
<a id=__codelineno-1-4 name=__codelineno-1-4 href=#__codelineno-1-4></a><span class=w>    </span><span class=nt>&quot;metrics&quot;</span><span class=p>:</span><span class=w> </span><span class=p>{},</span><span class=w></span>
<a id=__codelineno-1-5 name=__codelineno-1-5 href=#__codelineno-1-5></a><span class=w>    </span><span class=nt>&quot;sync&quot;</span><span class=p>:</span><span class=w> </span><span class=p>{},</span><span class=w></span>
<a id=__codelineno-1-6 name=__codelineno-1-6 href=#__codelineno-1-6></a><span class=w>    </span><span class=nt>&quot;search&quot;</span><span class=p>:</span><span class=w> </span><span class=p>{},</span><span class=w></span>
<a id=__codelineno-1-7 name=__codelineno-1-7 href=#__codelineno-1-7></a><span class=w>    </span><span class=nt>&quot;scrub&quot;</span><span class=p>:</span><span class=w> </span><span class=p>{}</span><span class=w></span>
<a id=__codelineno-1-8 name=__codelineno-1-8 href=#__codelineno-1-8></a><span class=w>  </span><span class=p>}</span><span class=w></span>
<a id=__codelineno-1-9 name=__codelineno-1-9 href=#__codelineno-1-9></a><span class=p>}</span><span class=w></span>
</code></pre></div> <blockquote> <p><strong>Tip:</strong> The extension features are available only with a full <code>zot</code> image. With a minimal <code>zot</code> image, the <code>extensions</code> section is ignored if present.</p> </blockquote> <p>The following features are configured under the <code>extensions</code> attribute.</p> <ul> <li> <p><a href=#_metrics_config>Metrics</a></p> </li> <li> <p><a href=#_sync_config>Sync</a></p> </li> <li> <p><a href=#_search_config>Search</a></p> </li> <li> <p><a href=#_scrub_config>Scrub</a></p> </li> </ul> <p>An extension feature is enabled by the presence of the feature’s attribute under <code>extensions</code>. An extension feature can be disabled by omitting the feature attribute or by including an <code>enable</code> attribute with a value of <code>false</code>.</p> <p>For example, the scrub feature is enabled in the following cases.</p> <div class=highlight><pre><span></span><code><a id=__codelineno-2-1 name=__codelineno-2-1 href=#__codelineno-2-1></a><span class=nt>&quot;extensions&quot;</span><span class=p>:</span><span class=w> </span><span class=p>{</span><span class=w></span>
<a id=__codelineno-2-2 name=__codelineno-2-2 href=#__codelineno-2-2></a><span class=w>  </span><span class=nt>&quot;scrub&quot;</span><span class=p>:</span><span class=w> </span><span class=p>{}</span><span class=w></span>
<a id=__codelineno-2-3 name=__codelineno-2-3 href=#__codelineno-2-3></a><span class=p>}</span><span class=w></span>
</code></pre></div> <div class=highlight><pre><span></span><code><a id=__codelineno-3-1 name=__codelineno-3-1 href=#__codelineno-3-1></a><span class=nt>&quot;extensions&quot;</span><span class=p>:</span><span class=w> </span><span class=p>{</span><span class=w></span>
<a id=__codelineno-3-2 name=__codelineno-3-2 href=#__codelineno-3-2></a><span class=w>  </span><span class=nt>&quot;scrub&quot;</span><span class=p>:</span><span class=w> </span><span class=p>{</span><span class=w></span>
<a id=__codelineno-3-3 name=__codelineno-3-3 href=#__codelineno-3-3></a><span class=w>    </span><span class=nt>&quot;enable&quot;</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w></span>
<a id=__codelineno-3-4 name=__codelineno-3-4 href=#__codelineno-3-4></a><span class=w>  </span><span class=p>}</span><span class=w></span>
<a id=__codelineno-3-5 name=__codelineno-3-5 href=#__codelineno-3-5></a><span class=p>}</span><span class=w></span>
</code></pre></div> <p>The scrub feature is disabled in the following cases.</p> <div class=highlight><pre><span></span><code><a id=__codelineno-4-1 name=__codelineno-4-1 href=#__codelineno-4-1></a><span class=nt>&quot;extensions&quot;</span><span class=p>:</span><span class=w> </span><span class=p>{</span><span class=w></span>
<a id=__codelineno-4-2 name=__codelineno-4-2 href=#__codelineno-4-2></a><span class=p>}</span><span class=w></span>
</code></pre></div> <p><div class=highlight><pre><span></span><code><a id=__codelineno-5-1 name=__codelineno-5-1 href=#__codelineno-5-1></a><span class=nt>&quot;extensions&quot;</span><span class=p>:</span><span class=w> </span><span class=p>{</span><span class=w></span>
<a id=__codelineno-5-2 name=__codelineno-5-2 href=#__codelineno-5-2></a><span class=w>  </span><span class=nt>&quot;scrub&quot;</span><span class=p>:</span><span class=w> </span><span class=p>{</span><span class=w></span>
<a id=__codelineno-5-3 name=__codelineno-5-3 href=#__codelineno-5-3></a><span class=w>    </span><span class=nt>&quot;enable&quot;</span><span class=p>:</span><span class=w> </span><span class=kc>false</span><span class=w></span>
<a id=__codelineno-5-4 name=__codelineno-5-4 href=#__codelineno-5-4></a><span class=w>  </span><span class=p>}</span><span class=w></span>
<a id=__codelineno-5-5 name=__codelineno-5-5 href=#__codelineno-5-5></a><span class=p>}</span><span class=w></span>
</code></pre></div> <a name=verifying-config></a></p> <h3 id=verifying-the-configuration-file>Verifying the configuration file<a class=headerlink href=#verifying-the-configuration-file title="Permanent link">&para;</a></h3> <p>Before launching <code>zot</code>, verify the syntax of your configuration file using the following command:</p> <p><code>zot verify configfile</code></p> <blockquote> <p><strong>Note:</strong> Verifying the configuration file protects against operator errors and any conflicts arising from <code>zot</code> release version changes.</p> </blockquote> <p>After verifying your configuration file, you can launch <code>zot</code> with the following command:</p> <p><code>zot serve configfile</code></p> <h2 id=network-configuration>Network configuration<a class=headerlink href=#network-configuration title="Permanent link">&para;</a></h2> <p>Use the <code>http</code> attribute in the configuration file to configure the <code>zot</code> network settings, as shown in the following example.</p> <div class=highlight><pre><span></span><code><a id=__codelineno-6-1 name=__codelineno-6-1 href=#__codelineno-6-1></a><span class=nt>&quot;http&quot;</span><span class=p>:</span><span class=w> </span><span class=p>{</span><span class=w></span>
<a id=__codelineno-6-2 name=__codelineno-6-2 href=#__codelineno-6-2></a><span class=w>  </span><span class=nt>&quot;address&quot;</span><span class=p>:</span><span class=s2>&quot;127.0.0.1&quot;</span><span class=p>,</span><span class=w></span>
<a id=__codelineno-6-3 name=__codelineno-6-3 href=#__codelineno-6-3></a><span class=w>  </span><span class=nt>&quot;port&quot;</span><span class=p>:</span><span class=s2>&quot;8080&quot;</span><span class=p>,</span><span class=w></span>
<a id=__codelineno-6-4 name=__codelineno-6-4 href=#__codelineno-6-4></a><span class=w>  </span><span class=nt>&quot;realm&quot;</span><span class=p>:</span><span class=s2>&quot;zot&quot;</span><span class=p>,</span><span class=w></span>
<a id=__codelineno-6-5 name=__codelineno-6-5 href=#__codelineno-6-5></a><span class=w>  </span><span class=nt>&quot;tls&quot;</span><span class=p>:</span><span class=w> </span><span class=p>{</span><span class=w></span>
<a id=__codelineno-6-6 name=__codelineno-6-6 href=#__codelineno-6-6></a><span class=w>    </span><span class=nt>&quot;cert&quot;</span><span class=p>:</span><span class=s2>&quot;test/data/server.cert&quot;</span><span class=p>,</span><span class=w></span>
<a id=__codelineno-6-7 name=__codelineno-6-7 href=#__codelineno-6-7></a><span class=w>    </span><span class=nt>&quot;key&quot;</span><span class=p>:</span><span class=s2>&quot;test/data/server.key&quot;</span><span class=w></span>
<a id=__codelineno-6-8 name=__codelineno-6-8 href=#__codelineno-6-8></a><span class=w>  </span><span class=p>}</span><span class=w></span>
<a id=__codelineno-6-9 name=__codelineno-6-9 href=#__codelineno-6-9></a><span class=p>}</span><span class=w></span>
</code></pre></div> <p>The following table lists the configurable attributes.</p> <table> <thead> <tr> <th>Attribute</th> <th>Description</th> </tr> </thead> <tbody> <tr> <td><code>address</code></td> <td>The IP address of the <code>zot</code> server.</td> </tr> <tr> <td><code>port</code></td> <td>The port number of the <code>zot</code> server.</td> </tr> <tr> <td><code>realm</code></td> <td>The security policy domain defined for the server.</td> </tr> <tr> <td><code>tls</code></td> <td>The included attributes in this section specify the Transport Layer Security (TLS) settings for the server.</td> </tr> <tr> <td><code>cert</code></td> <td>The path and filename of the server’s SSL/TLS certificate.</td> </tr> <tr> <td><code>key</code></td> <td>The path and filename of the server’s registry key.</td> </tr> </tbody> </table> <h2 id=storage-configuration>Storage configuration<a class=headerlink href=#storage-configuration title="Permanent link">&para;</a></h2> <h3 id=storage-options>Storage options<a class=headerlink href=#storage-options title="Permanent link">&para;</a></h3> <p>With <code>zot</code>, you have the option to store your registry image files either in local filesystem storage or in cloud storage, such as an Amazon Simple Storage Service (S3) bucket.</p> <h3 id=configuring-local-storage>Configuring local storage<a class=headerlink href=#configuring-local-storage title="Permanent link">&para;</a></h3> <p>Local filesystem storage for <code>zot</code> is configured with the <code>storage</code> attribute in the configuration file, as shown in the following example.</p> <div class=highlight><pre><span></span><code><a id=__codelineno-7-1 name=__codelineno-7-1 href=#__codelineno-7-1></a><span class=nt>&quot;storage&quot;</span><span class=p>:{</span><span class=w></span>
<a id=__codelineno-7-2 name=__codelineno-7-2 href=#__codelineno-7-2></a><span class=w>  </span><span class=nt>&quot;rootDirectory&quot;</span><span class=p>:</span><span class=s2>&quot;/tmp/zot&quot;</span><span class=p>,</span><span class=w></span>
<a id=__codelineno-7-3 name=__codelineno-7-3 href=#__codelineno-7-3></a><span class=w>  </span><span class=nt>&quot;commit&quot;</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=p>,</span><span class=w></span>
<a id=__codelineno-7-4 name=__codelineno-7-4 href=#__codelineno-7-4></a><span class=w>  </span><span class=nt>&quot;dedupe&quot;</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=p>,</span><span class=w></span>
<a id=__codelineno-7-5 name=__codelineno-7-5 href=#__codelineno-7-5></a><span class=w>  </span><span class=nt>&quot;gc&quot;</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=p>,</span><span class=w></span>
<a id=__codelineno-7-6 name=__codelineno-7-6 href=#__codelineno-7-6></a><span class=w>  </span><span class=nt>&quot;gcDelay&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;1h&quot;</span><span class=p>,</span><span class=w></span>
<a id=__codelineno-7-7 name=__codelineno-7-7 href=#__codelineno-7-7></a><span class=w>  </span><span class=nt>&quot;gcInterval&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;24h&quot;</span><span class=w></span>
<a id=__codelineno-7-8 name=__codelineno-7-8 href=#__codelineno-7-8></a><span class=p>}</span><span class=w></span>
</code></pre></div> <p>The following table lists the configurable attributes.</p> <table> <colgroup> <col style="width: 25%"> <col style="width: 75%"> </colgroup> <thead> <tr class=header> <th style="text-align: left;">Attribute</th> <th style="text-align: left;">Description</th> </tr> </thead> <tbody> <tr class=odd> <td style="text-align: left;"><p><code>rootDirectory</code></p></td> <td style="text-align: left;"><p>Location of the images stored in the server file system.</p></td> </tr> <tr class=even> <td style="text-align: left;"><p><code>commit</code></p></td> <td style="text-align: left;"><p>For faster performance, data written by `zot` is retained in memory before being periodically committed to disk by the operating system. To eliminate this retention time and cause data to be written to disk immediately, set to <code>true</code>. This prevents data loss but reduces performance.</p></td> </tr> <tr class=odd> <td style="text-align: left;"><p><code>dedupe</code></p></td> <td style="text-align: left;"><p>If the server filesystem supports hard links, you can optimize storage space by enabling inline deduplication of layers and blobs that are shared among multiple container images. Deduplication is enabled by default. Set to <code>false</code> to disable deduplication.</p></td> </tr> <tr class=even> <td style="text-align: left;"><p><code>gc</code></p></td> <td style="text-align: left;"><p>When an image is deleted, either by tag or by reference, orphaned blobs can lead to wasted storage. Garbage collection (gc) is enabled by default to reclaim this space. Set to <code>false</code> to disable garbage collection.</p></td> </tr> <tr class=odd> <td style="text-align: left;"><p><code>gcDelay</code></p></td> <td style="text-align: left;"><p>(Optional) If garbage collection is enabled, causes it to run once after the specified delay time. The default is 1 hour. Requires the <code>gc</code> attribute to be <code>true</code>.</p></td> </tr> <tr class=even> <td style="text-align: left;"><p><code>gcInterval</code></p></td> <td style="text-align: left;"><p>(Optional) If garbage collection is enabled, causes periodic collection at the specified interval. Must be set based on use cases and user workloads. If no value is specified, there is no periodic collection. Requires the <code>gc</code> attribute to be <code>true</code>.</p></td> </tr> <tr class=odd> <td style="text-align: left;"><p><code>subpaths</code></p></td> <td style="text-align: left;"><p>You can store and serve images from multiple filesystems, each with their own repository paths and settings. The following example shows three subpaths.</p> <div class=sourceCode id=cb1><pre class="sourceCode json"><code class="sourceCode json"><span id=cb1-1><a href=#cb1-1 aria-hidden=true tabindex=-1></a><span class=er>&quot;storage&quot;:</span><span class=fu>{</span></span>
<span id=cb1-2><a href=#cb1-2 aria-hidden=true tabindex=-1></a>  <span class=dt>&quot;subPaths&quot;</span><span class=fu>:</span> <span class=fu>{</span></span>
<span id=cb1-3><a href=#cb1-3 aria-hidden=true tabindex=-1></a>    <span class=dt>&quot;/a&quot;</span><span class=fu>:</span> <span class=fu>{</span></span>
<span id=cb1-4><a href=#cb1-4 aria-hidden=true tabindex=-1></a>      <span class=dt>&quot;rootDirectory&quot;</span><span class=fu>:</span> <span class=st>&quot;/tmp/zot1&quot;</span><span class=fu>,</span></span>
<span id=cb1-5><a href=#cb1-5 aria-hidden=true tabindex=-1></a>      <span class=dt>&quot;dedupe&quot;</span><span class=fu>:</span> <span class=kw>true</span><span class=fu>,</span></span>
<span id=cb1-6><a href=#cb1-6 aria-hidden=true tabindex=-1></a>      <span class=dt>&quot;gc&quot;</span><span class=fu>:</span> <span class=kw>true</span></span>
<span id=cb1-7><a href=#cb1-7 aria-hidden=true tabindex=-1></a>    <span class=fu>},</span></span>
<span id=cb1-8><a href=#cb1-8 aria-hidden=true tabindex=-1></a>    <span class=dt>&quot;/b&quot;</span><span class=fu>:</span> <span class=fu>{</span></span>
<span id=cb1-9><a href=#cb1-9 aria-hidden=true tabindex=-1></a>      <span class=dt>&quot;rootDirectory&quot;</span><span class=fu>:</span> <span class=st>&quot;/tmp/zot2&quot;</span><span class=fu>,</span></span>
<span id=cb1-10><a href=#cb1-10 aria-hidden=true tabindex=-1></a>      <span class=dt>&quot;dedupe&quot;</span><span class=fu>:</span> <span class=kw>true</span></span>
<span id=cb1-11><a href=#cb1-11 aria-hidden=true tabindex=-1></a>    <span class=fu>},</span></span>
<span id=cb1-12><a href=#cb1-12 aria-hidden=true tabindex=-1></a>    <span class=dt>&quot;/c&quot;</span><span class=fu>:</span> <span class=fu>{</span></span>
<span id=cb1-13><a href=#cb1-13 aria-hidden=true tabindex=-1></a>      <span class=dt>&quot;rootDirectory&quot;</span><span class=fu>:</span> <span class=st>&quot;/tmp/zot3&quot;</span><span class=fu>,</span></span>
<span id=cb1-14><a href=#cb1-14 aria-hidden=true tabindex=-1></a>      <span class=dt>&quot;dedupe&quot;</span><span class=fu>:</span> <span class=kw>false</span></span>
<span id=cb1-15><a href=#cb1-15 aria-hidden=true tabindex=-1></a>    <span class=fu>}</span></span>
<span id=cb1-16><a href=#cb1-16 aria-hidden=true tabindex=-1></a>  <span class=fu>}</span></span>
<span id=cb1-17><a href=#cb1-17 aria-hidden=true tabindex=-1></a><span class=fu>}</span></span></code></pre></div></td> </tr> </tbody> </table> <h3 id=configuring-s3-storage>Configuring S3 storage<a class=headerlink href=#configuring-s3-storage title="Permanent link">&para;</a></h3> <p>Amazon Simple Storage Service (S3) for <code>zot</code> can be configured with the <code>storageDriver</code> attribute in the configuration file, as shown in the following example:</p> <div class=highlight><pre><span></span><code><a id=__codelineno-8-1 name=__codelineno-8-1 href=#__codelineno-8-1></a><span class=nt>&quot;storageDriver&quot;</span><span class=p>:</span><span class=w> </span><span class=p>{</span><span class=w></span>
<a id=__codelineno-8-2 name=__codelineno-8-2 href=#__codelineno-8-2></a><span class=w>    </span><span class=nt>&quot;name&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;s3&quot;</span><span class=p>,</span><span class=w></span>
<a id=__codelineno-8-3 name=__codelineno-8-3 href=#__codelineno-8-3></a><span class=w>    </span><span class=nt>&quot;region&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;us-east-2&quot;</span><span class=p>,</span><span class=w></span>
<a id=__codelineno-8-4 name=__codelineno-8-4 href=#__codelineno-8-4></a><span class=w>    </span><span class=nt>&quot;bucket&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;zot-storage&quot;</span><span class=p>,</span><span class=w></span>
<a id=__codelineno-8-5 name=__codelineno-8-5 href=#__codelineno-8-5></a><span class=w>    </span><span class=nt>&quot;secure&quot;</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=p>,</span><span class=w></span>
<a id=__codelineno-8-6 name=__codelineno-8-6 href=#__codelineno-8-6></a><span class=w>    </span><span class=nt>&quot;skipverify&quot;</span><span class=p>:</span><span class=w> </span><span class=kc>false</span><span class=p>,</span><span class=w></span>
<a id=__codelineno-8-7 name=__codelineno-8-7 href=#__codelineno-8-7></a><span class=w>    </span><span class=nt>&quot;accesskey&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;&lt;YOUR_ACCESS_KEY_ID&gt;&quot;</span><span class=p>,</span><span class=w></span>
<a id=__codelineno-8-8 name=__codelineno-8-8 href=#__codelineno-8-8></a><span class=w>    </span><span class=nt>&quot;secretkey&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;&lt;YOUR_SECRET_ACCESS_KEY&gt;&quot;</span><span class=w></span>
<a id=__codelineno-8-9 name=__codelineno-8-9 href=#__codelineno-8-9></a><span class=p>}</span><span class=w></span>
</code></pre></div> <p>As in the case with local filesystem storage, you can use multiple storage locations using the <code>subpath</code> attribute, as in the following example.</p> <div class=highlight><pre><span></span><code><a id=__codelineno-9-1 name=__codelineno-9-1 href=#__codelineno-9-1></a><span class=nt>&quot;subPaths&quot;</span><span class=p>:</span><span class=w> </span><span class=p>{</span><span class=w></span>
<a id=__codelineno-9-2 name=__codelineno-9-2 href=#__codelineno-9-2></a><span class=w>    </span><span class=nt>&quot;/a&quot;</span><span class=p>:</span><span class=w> </span><span class=p>{</span><span class=w></span>
<a id=__codelineno-9-3 name=__codelineno-9-3 href=#__codelineno-9-3></a><span class=w>        </span><span class=nt>&quot;rootDirectory&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;/zot-a&quot;</span><span class=p>,</span><span class=w></span>
<a id=__codelineno-9-4 name=__codelineno-9-4 href=#__codelineno-9-4></a><span class=w>        </span><span class=nt>&quot;storageDriver&quot;</span><span class=p>:</span><span class=w> </span><span class=p>{</span><span class=w></span>
<a id=__codelineno-9-5 name=__codelineno-9-5 href=#__codelineno-9-5></a><span class=w>            </span><span class=nt>&quot;name&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;s3&quot;</span><span class=p>,</span><span class=w></span>
<a id=__codelineno-9-6 name=__codelineno-9-6 href=#__codelineno-9-6></a><span class=w>            </span><span class=nt>&quot;region&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;us-east-2&quot;</span><span class=p>,</span><span class=w></span>
<a id=__codelineno-9-7 name=__codelineno-9-7 href=#__codelineno-9-7></a><span class=w>            </span><span class=nt>&quot;bucket&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;zot-storage&quot;</span><span class=p>,</span><span class=w></span>
<a id=__codelineno-9-8 name=__codelineno-9-8 href=#__codelineno-9-8></a><span class=w>            </span><span class=nt>&quot;secure&quot;</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=p>,</span><span class=w></span>
<a id=__codelineno-9-9 name=__codelineno-9-9 href=#__codelineno-9-9></a><span class=w>            </span><span class=nt>&quot;skipverify&quot;</span><span class=p>:</span><span class=w> </span><span class=kc>false</span><span class=w></span>
<a id=__codelineno-9-10 name=__codelineno-9-10 href=#__codelineno-9-10></a><span class=w>        </span><span class=p>}</span><span class=w></span>
<a id=__codelineno-9-11 name=__codelineno-9-11 href=#__codelineno-9-11></a><span class=w>    </span><span class=p>},</span><span class=w></span>
<a id=__codelineno-9-12 name=__codelineno-9-12 href=#__codelineno-9-12></a><span class=w>    </span><span class=nt>&quot;/b&quot;</span><span class=p>:</span><span class=w> </span><span class=p>{</span><span class=w></span>
<a id=__codelineno-9-13 name=__codelineno-9-13 href=#__codelineno-9-13></a>
<a id=__codelineno-9-14 name=__codelineno-9-14 href=#__codelineno-9-14></a><span class=err>...</span><span class=w></span>
<a id=__codelineno-9-15 name=__codelineno-9-15 href=#__codelineno-9-15></a>
<a id=__codelineno-9-16 name=__codelineno-9-16 href=#__codelineno-9-16></a><span class=w>    </span><span class=p>}</span><span class=w></span>
<a id=__codelineno-9-17 name=__codelineno-9-17 href=#__codelineno-9-17></a><span class=p>}</span><span class=w></span>
</code></pre></div> <h4 id=s3-credentials>S3 Credentials<a class=headerlink href=#s3-credentials title="Permanent link">&para;</a></h4> <p>In the first configuration file example, the S3 credentials were configured with the attributes <code>accesskey</code> and <code>secretkey.</code> As an alternative, you can omit these attributes from the configuration file and you can configure them using environment variables or a credential file.</p> <ul> <li> <p>Environment variables</p> <p><code>zot</code> looks for credentials in the following environment variables:</p> <div class=highlight><pre><span></span><code>AWS_ACCESS_KEY_ID
AWS_SECRET_ACCESS_KEY
AWS_SESSION_TOKEN (optional)
</code></pre></div> </li> <li> <p>Credential file</p> <p>A credential file is a plaintext file that contains your access keys, as shown in the following example.</p> <div class=highlight><pre><span></span><code>[default]
aws_access_key_id = &lt;YOUR_DEFAULT_ACCESS_KEY_ID&gt;
aws_secret_access_key = &lt;YOUR_DEFAULT_SECRET_ACCESS_KEY&gt;

[test-account]
aws_access_key_id = &lt;YOUR_TEST_ACCESS_KEY_ID&gt;
aws_secret_access_key = &lt;YOUR_TEST_SECRET_ACCESS_KEY&gt;

[prod-account]
; work profile
aws_access_key_id = &lt;YOUR_PROD_ACCESS_KEY_ID&gt;
aws_secret_access_key = &lt;YOUR_PROD_SECRET_ACCESS_KEY&gt;
</code></pre></div> <p>The <code>[default]</code> heading defines credentials for the default profile, which <code>zot</code> will use unless you configure it to use another profile. You can specify a profile using the <code>AWS_PROFILE</code> environment variable as in this example:</p> <div class=highlight><pre><span></span><code>AWS_PROFILE=test-account
</code></pre></div> <p>The credential file must be named <code>credentials.</code> The file must be located in the <code>.aws/</code> folder in the home directory of the same server that is running your <code>zot</code> application.</p> </li> </ul> <p>For more details about specifying S3 credentials, see the <a href=https://docs.aws.amazon.com/sdk-for-go/v1/developer-guide/configuring-sdk.html#specifying-credentials>AWS documentation</a>.</p> <h2 id=security-and-hardening>Security and hardening<a class=headerlink href=#security-and-hardening title="Permanent link">&para;</a></h2> <h3 id=authentication>Authentication<a class=headerlink href=#authentication title="Permanent link">&para;</a></h3> <p><code>zot</code> supports authentication by the following methods:</p> <ul> <li> <p>TLS mutual authentication</p> </li> <li> <p>Basic local authentication using an htpasswd file</p> </li> <li> <p>LDAP authentication</p> </li> <li> <p>Bearer (OAuth2) authentication using an HTTP Bearer token</p> </li> </ul> <p>For detailed information about configuring authentication for your <code>zot</code> registry, see <a href=../../articles/authn-authz/ >User Authentication and Authorization with zot</a>.</p> <h3 id=identity-based-authorization>Identity-based authorization<a class=headerlink href=#identity-based-authorization title="Permanent link">&para;</a></h3> <p>User identity can be used as an authorization criterion for allowing actions on one or more repository paths. For specific users, you can choose to allow any combination of read, create, update, or delete actions on specific repository paths.</p> <p>For detailed information about configuring access control policies for your <code>zot</code> registry, see <a href=../../articles/authn-authz/ >User Authentication and Authorization with zot</a>.</p> <h3 id=preventing-automated-attacks-with-failure-delay>Preventing automated attacks with failure delay<a class=headerlink href=#preventing-automated-attacks-with-failure-delay title="Permanent link">&para;</a></h3> <p>Use the <code>auth</code> and <code>failDelay</code> attributes under <code>http</code> in the configuration file to delay the response to an authentication failure. A delayed response helps to prevent automated attacks. The configuration is shown in the following example.</p> <div class=highlight><pre><span></span><code><a id=__codelineno-10-1 name=__codelineno-10-1 href=#__codelineno-10-1></a><span class=nt>&quot;http&quot;</span><span class=p>:</span><span class=w> </span><span class=p>{</span><span class=w></span>
<a id=__codelineno-10-2 name=__codelineno-10-2 href=#__codelineno-10-2></a><span class=w>  </span><span class=nt>&quot;auth&quot;</span><span class=p>:</span><span class=w> </span><span class=p>{</span><span class=w></span>
<a id=__codelineno-10-3 name=__codelineno-10-3 href=#__codelineno-10-3></a><span class=w>    </span><span class=nt>&quot;failDelay&quot;</span><span class=p>:</span><span class=w> </span><span class=mi>5</span><span class=w></span>
<a id=__codelineno-10-4 name=__codelineno-10-4 href=#__codelineno-10-4></a><span class=w>  </span><span class=p>}</span><span class=w></span>
<a id=__codelineno-10-5 name=__codelineno-10-5 href=#__codelineno-10-5></a><span class=p>}</span><span class=w></span>
</code></pre></div> <p>The <code>failDelay</code> attribute specifies a waiting time, in seconds, before <code>zot</code> sends a failure notification to an authenticating user who has been denied access.</p> <h3 id=rate-limiting>Rate limiting<a class=headerlink href=#rate-limiting title="Permanent link">&para;</a></h3> <p>You can limit the rate of API calls from users by configuring the <code>Ratelimit</code> attribute in the configuration file, as shown in the following example:</p> <div class=highlight><pre><span></span><code><a id=__codelineno-11-1 name=__codelineno-11-1 href=#__codelineno-11-1></a><span class=nt>&quot;http&quot;</span><span class=p>:</span><span class=w> </span><span class=p>{</span><span class=w></span>
<a id=__codelineno-11-2 name=__codelineno-11-2 href=#__codelineno-11-2></a><span class=w>    </span><span class=nt>&quot;address&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;127.0.0.1&quot;</span><span class=p>,</span><span class=w></span>
<a id=__codelineno-11-3 name=__codelineno-11-3 href=#__codelineno-11-3></a><span class=w>    </span><span class=nt>&quot;port&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;8080&quot;</span><span class=p>,</span><span class=w></span>
<a id=__codelineno-11-4 name=__codelineno-11-4 href=#__codelineno-11-4></a><span class=w>    </span><span class=nt>&quot;Ratelimit&quot;</span><span class=p>:</span><span class=w> </span><span class=p>{</span><span class=w></span>
<a id=__codelineno-11-5 name=__codelineno-11-5 href=#__codelineno-11-5></a><span class=w>        </span><span class=nt>&quot;Rate&quot;</span><span class=p>:</span><span class=w> </span><span class=mi>10</span><span class=p>,</span><span class=w></span>
<a id=__codelineno-11-6 name=__codelineno-11-6 href=#__codelineno-11-6></a><span class=w>        </span><span class=nt>&quot;Methods&quot;</span><span class=p>:</span><span class=w> </span><span class=p>[</span><span class=w></span>
<a id=__codelineno-11-7 name=__codelineno-11-7 href=#__codelineno-11-7></a><span class=w>            </span><span class=p>{</span><span class=w></span>
<a id=__codelineno-11-8 name=__codelineno-11-8 href=#__codelineno-11-8></a><span class=w>                </span><span class=nt>&quot;Method&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;GET&quot;</span><span class=p>,</span><span class=w></span>
<a id=__codelineno-11-9 name=__codelineno-11-9 href=#__codelineno-11-9></a><span class=w>                </span><span class=nt>&quot;Rate&quot;</span><span class=p>:</span><span class=w> </span><span class=mi>5</span><span class=w></span>
<a id=__codelineno-11-10 name=__codelineno-11-10 href=#__codelineno-11-10></a><span class=w>            </span><span class=p>}</span><span class=w></span>
<a id=__codelineno-11-11 name=__codelineno-11-11 href=#__codelineno-11-11></a><span class=w>        </span><span class=p>]</span><span class=w></span>
<a id=__codelineno-11-12 name=__codelineno-11-12 href=#__codelineno-11-12></a><span class=w>    </span><span class=p>}</span><span class=w></span>
<a id=__codelineno-11-13 name=__codelineno-11-13 href=#__codelineno-11-13></a><span class=p>}</span><span class=w></span>
</code></pre></div> <p>In this example, the <code>Rate</code> attribute directly under <code>Ratelimit</code> sets a global rate limit of ten API calls per second. You can optionally override the global limit for specific API <code>Methods</code>. In this example, API <code>GET</code> calls are limited to five per second.</p> <h2 id=syncing-and-mirroring-registries>Syncing and mirroring registries<a class=headerlink href=#syncing-and-mirroring-registries title="Permanent link">&para;</a></h2> <h3 id=synchronizing-registries>Synchronizing registries<a class=headerlink href=#synchronizing-registries title="Permanent link">&para;</a></h3> <p>Add the <code>sync</code> attribute under <code>extensions</code> in the configuration file to enable and configure the periodic or on-demand synchronization of your <code>zot</code> image registry with other image registries, as shown in the following example.</p> <div class=highlight><pre><span></span><code><a id=__codelineno-12-1 name=__codelineno-12-1 href=#__codelineno-12-1></a><span class=nt>&quot;extensions&quot;</span><span class=p>:</span><span class=w> </span><span class=p>{</span><span class=w></span>
<a id=__codelineno-12-2 name=__codelineno-12-2 href=#__codelineno-12-2></a><span class=w>    </span><span class=nt>&quot;sync&quot;</span><span class=p>:</span><span class=w> </span><span class=p>{</span><span class=w></span>
<a id=__codelineno-12-3 name=__codelineno-12-3 href=#__codelineno-12-3></a><span class=w>        </span><span class=nt>&quot;enable&quot;</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=p>,</span><span class=w></span>
<a id=__codelineno-12-4 name=__codelineno-12-4 href=#__codelineno-12-4></a><span class=w>        </span><span class=nt>&quot;credentialsFile&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;./examples/sync-auth-filepath.json&quot;</span><span class=p>,</span><span class=w></span>
<a id=__codelineno-12-5 name=__codelineno-12-5 href=#__codelineno-12-5></a><span class=w>        </span><span class=nt>&quot;registries&quot;</span><span class=p>:</span><span class=w> </span><span class=p>[</span><span class=w></span>
<a id=__codelineno-12-6 name=__codelineno-12-6 href=#__codelineno-12-6></a><span class=w>        </span><span class=p>{</span><span class=w></span>
<a id=__codelineno-12-7 name=__codelineno-12-7 href=#__codelineno-12-7></a><span class=w>            </span><span class=nt>&quot;urls&quot;</span><span class=p>:</span><span class=w> </span><span class=p>[</span><span class=w></span>
<a id=__codelineno-12-8 name=__codelineno-12-8 href=#__codelineno-12-8></a><span class=w>                </span><span class=s2>&quot;https://registry1:5000&quot;</span><span class=w></span>
<a id=__codelineno-12-9 name=__codelineno-12-9 href=#__codelineno-12-9></a><span class=w>            </span><span class=p>],</span><span class=w></span>
<a id=__codelineno-12-10 name=__codelineno-12-10 href=#__codelineno-12-10></a><span class=w>            </span><span class=nt>&quot;onDemand&quot;</span><span class=p>:</span><span class=w> </span><span class=kc>false</span><span class=p>,</span><span class=w></span>
<a id=__codelineno-12-11 name=__codelineno-12-11 href=#__codelineno-12-11></a><span class=w>            </span><span class=nt>&quot;pollInterval&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;6h&quot;</span><span class=p>,</span><span class=w></span>
<a id=__codelineno-12-12 name=__codelineno-12-12 href=#__codelineno-12-12></a><span class=w>            </span><span class=nt>&quot;tlsVerify&quot;</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=p>,</span><span class=w></span>
<a id=__codelineno-12-13 name=__codelineno-12-13 href=#__codelineno-12-13></a><span class=w>            </span><span class=nt>&quot;certDir&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;/home/user/certs&quot;</span><span class=p>,</span><span class=w></span>
<a id=__codelineno-12-14 name=__codelineno-12-14 href=#__codelineno-12-14></a><span class=w>            </span><span class=nt>&quot;maxRetries&quot;</span><span class=p>:</span><span class=w> </span><span class=mi>5</span><span class=p>,</span><span class=w></span>
<a id=__codelineno-12-15 name=__codelineno-12-15 href=#__codelineno-12-15></a><span class=w>            </span><span class=nt>&quot;retryDelay&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;10m&quot;</span><span class=p>,</span><span class=w></span>
<a id=__codelineno-12-16 name=__codelineno-12-16 href=#__codelineno-12-16></a><span class=w>            </span><span class=nt>&quot;onlySigned&quot;</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=p>,</span><span class=w></span>
<a id=__codelineno-12-17 name=__codelineno-12-17 href=#__codelineno-12-17></a><span class=w>            </span><span class=nt>&quot;content&quot;</span><span class=p>:</span><span class=w> </span><span class=p>[</span><span class=w></span>
<a id=__codelineno-12-18 name=__codelineno-12-18 href=#__codelineno-12-18></a><span class=w>            </span><span class=p>{</span><span class=w></span>
<a id=__codelineno-12-19 name=__codelineno-12-19 href=#__codelineno-12-19></a><span class=w>                </span><span class=nt>&quot;prefix&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;/repo1/repo&quot;</span><span class=p>,</span><span class=w></span>
<a id=__codelineno-12-20 name=__codelineno-12-20 href=#__codelineno-12-20></a><span class=w>                </span><span class=nt>&quot;tags&quot;</span><span class=p>:</span><span class=w></span>
<a id=__codelineno-12-21 name=__codelineno-12-21 href=#__codelineno-12-21></a><span class=w>                </span><span class=p>{</span><span class=w></span>
<a id=__codelineno-12-22 name=__codelineno-12-22 href=#__codelineno-12-22></a><span class=w>                    </span><span class=nt>&quot;regex&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;4.*&quot;</span><span class=p>,</span><span class=w></span>
<a id=__codelineno-12-23 name=__codelineno-12-23 href=#__codelineno-12-23></a><span class=w>                    </span><span class=nt>&quot;semver&quot;</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w></span>
<a id=__codelineno-12-24 name=__codelineno-12-24 href=#__codelineno-12-24></a><span class=w>                </span><span class=p>}</span><span class=w></span>
<a id=__codelineno-12-25 name=__codelineno-12-25 href=#__codelineno-12-25></a><span class=w>            </span><span class=p>},</span><span class=w></span>
<a id=__codelineno-12-26 name=__codelineno-12-26 href=#__codelineno-12-26></a><span class=w>            </span><span class=p>{</span><span class=w></span>
<a id=__codelineno-12-27 name=__codelineno-12-27 href=#__codelineno-12-27></a><span class=w>                </span><span class=nt>&quot;prefix&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;/repo1/repo&quot;</span><span class=p>,</span><span class=w></span>
<a id=__codelineno-12-28 name=__codelineno-12-28 href=#__codelineno-12-28></a><span class=w>                </span><span class=nt>&quot;destination&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;/localrepo&quot;</span><span class=p>,</span><span class=w></span>
<a id=__codelineno-12-29 name=__codelineno-12-29 href=#__codelineno-12-29></a><span class=w>                </span><span class=nt>&quot;stripPrefix&quot;</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w></span>
<a id=__codelineno-12-30 name=__codelineno-12-30 href=#__codelineno-12-30></a><span class=w>            </span><span class=p>},</span><span class=w></span>
<a id=__codelineno-12-31 name=__codelineno-12-31 href=#__codelineno-12-31></a><span class=w>            </span><span class=p>{</span><span class=w></span>
<a id=__codelineno-12-32 name=__codelineno-12-32 href=#__codelineno-12-32></a><span class=w>                </span><span class=nt>&quot;prefix&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;/repo1/**&quot;</span><span class=p>,</span><span class=w></span>
<a id=__codelineno-12-33 name=__codelineno-12-33 href=#__codelineno-12-33></a><span class=w>                </span><span class=nt>&quot;destination&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;/localrepo&quot;</span><span class=p>,</span><span class=w></span>
<a id=__codelineno-12-34 name=__codelineno-12-34 href=#__codelineno-12-34></a><span class=w>                </span><span class=nt>&quot;stripPrefix&quot;</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w></span>
<a id=__codelineno-12-35 name=__codelineno-12-35 href=#__codelineno-12-35></a><span class=w>            </span><span class=p>},</span><span class=w></span>
<a id=__codelineno-12-36 name=__codelineno-12-36 href=#__codelineno-12-36></a><span class=w>            </span><span class=p>{</span><span class=w></span>
<a id=__codelineno-12-37 name=__codelineno-12-37 href=#__codelineno-12-37></a><span class=w>                </span><span class=nt>&quot;prefix&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;/repo2/repo*&quot;</span><span class=w></span>
<a id=__codelineno-12-38 name=__codelineno-12-38 href=#__codelineno-12-38></a><span class=w>            </span><span class=p>},</span><span class=w></span>
<a id=__codelineno-12-39 name=__codelineno-12-39 href=#__codelineno-12-39></a><span class=w>            </span><span class=p>{</span><span class=w></span>
<a id=__codelineno-12-40 name=__codelineno-12-40 href=#__codelineno-12-40></a><span class=w>                </span><span class=nt>&quot;prefix&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;/repo3/**&quot;</span><span class=w></span>
<a id=__codelineno-12-41 name=__codelineno-12-41 href=#__codelineno-12-41></a><span class=w>            </span><span class=p>}]</span><span class=w></span>
<a id=__codelineno-12-42 name=__codelineno-12-42 href=#__codelineno-12-42></a><span class=w>        </span><span class=p>},</span><span class=w></span>
<a id=__codelineno-12-43 name=__codelineno-12-43 href=#__codelineno-12-43></a><span class=w>        </span><span class=p>{</span><span class=w></span>
<a id=__codelineno-12-44 name=__codelineno-12-44 href=#__codelineno-12-44></a><span class=w>            </span><span class=nt>&quot;urls&quot;</span><span class=p>:</span><span class=w> </span><span class=p>[</span><span class=w></span>
<a id=__codelineno-12-45 name=__codelineno-12-45 href=#__codelineno-12-45></a><span class=w>                </span><span class=s2>&quot;https://registry2:5000&quot;</span><span class=p>,</span><span class=w></span>
<a id=__codelineno-12-46 name=__codelineno-12-46 href=#__codelineno-12-46></a><span class=w>                </span><span class=s2>&quot;https://registry3:5000&quot;</span><span class=w></span>
<a id=__codelineno-12-47 name=__codelineno-12-47 href=#__codelineno-12-47></a><span class=w>            </span><span class=p>],</span><span class=w></span>
<a id=__codelineno-12-48 name=__codelineno-12-48 href=#__codelineno-12-48></a><span class=w>            </span><span class=nt>&quot;pollInterval&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;12h&quot;</span><span class=p>,</span><span class=w></span>
<a id=__codelineno-12-49 name=__codelineno-12-49 href=#__codelineno-12-49></a><span class=w>            </span><span class=nt>&quot;tlsVerify&quot;</span><span class=p>:</span><span class=w> </span><span class=kc>false</span><span class=p>,</span><span class=w></span>
<a id=__codelineno-12-50 name=__codelineno-12-50 href=#__codelineno-12-50></a><span class=w>            </span><span class=nt>&quot;onDemand&quot;</span><span class=p>:</span><span class=w> </span><span class=kc>false</span><span class=p>,</span><span class=w></span>
<a id=__codelineno-12-51 name=__codelineno-12-51 href=#__codelineno-12-51></a><span class=w>            </span><span class=nt>&quot;content&quot;</span><span class=p>:</span><span class=w> </span><span class=p>[</span><span class=w></span>
<a id=__codelineno-12-52 name=__codelineno-12-52 href=#__codelineno-12-52></a><span class=w>            </span><span class=p>{</span><span class=w></span>
<a id=__codelineno-12-53 name=__codelineno-12-53 href=#__codelineno-12-53></a><span class=w>                </span><span class=nt>&quot;prefix&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;/repo2&quot;</span><span class=p>,</span><span class=w></span>
<a id=__codelineno-12-54 name=__codelineno-12-54 href=#__codelineno-12-54></a><span class=w>                </span><span class=nt>&quot;tags&quot;</span><span class=p>:</span><span class=w></span>
<a id=__codelineno-12-55 name=__codelineno-12-55 href=#__codelineno-12-55></a><span class=w>                </span><span class=p>{</span><span class=w></span>
<a id=__codelineno-12-56 name=__codelineno-12-56 href=#__codelineno-12-56></a><span class=w>                    </span><span class=nt>&quot;semver&quot;</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w></span>
<a id=__codelineno-12-57 name=__codelineno-12-57 href=#__codelineno-12-57></a><span class=w>                </span><span class=p>}</span><span class=w></span>
<a id=__codelineno-12-58 name=__codelineno-12-58 href=#__codelineno-12-58></a><span class=w>            </span><span class=p>}]</span><span class=w></span>
<a id=__codelineno-12-59 name=__codelineno-12-59 href=#__codelineno-12-59></a><span class=w>        </span><span class=p>},</span><span class=w></span>
<a id=__codelineno-12-60 name=__codelineno-12-60 href=#__codelineno-12-60></a><span class=w>        </span><span class=p>{</span><span class=w></span>
<a id=__codelineno-12-61 name=__codelineno-12-61 href=#__codelineno-12-61></a><span class=w>            </span><span class=nt>&quot;urls&quot;</span><span class=p>:</span><span class=w> </span><span class=p>[</span><span class=w></span>
<a id=__codelineno-12-62 name=__codelineno-12-62 href=#__codelineno-12-62></a><span class=w>                </span><span class=s2>&quot;https://docker.io/library&quot;</span><span class=w></span>
<a id=__codelineno-12-63 name=__codelineno-12-63 href=#__codelineno-12-63></a><span class=w>            </span><span class=p>],</span><span class=w></span>
<a id=__codelineno-12-64 name=__codelineno-12-64 href=#__codelineno-12-64></a><span class=w>            </span><span class=nt>&quot;onDemand&quot;</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=p>,</span><span class=w></span>
<a id=__codelineno-12-65 name=__codelineno-12-65 href=#__codelineno-12-65></a><span class=w>            </span><span class=nt>&quot;tlsVerify&quot;</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=p>,</span><span class=w></span>
<a id=__codelineno-12-66 name=__codelineno-12-66 href=#__codelineno-12-66></a><span class=w>            </span><span class=nt>&quot;maxRetries&quot;</span><span class=p>:</span><span class=w> </span><span class=mi>6</span><span class=p>,</span><span class=w></span>
<a id=__codelineno-12-67 name=__codelineno-12-67 href=#__codelineno-12-67></a><span class=w>            </span><span class=nt>&quot;retryDelay&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;5m&quot;</span><span class=w></span>
<a id=__codelineno-12-68 name=__codelineno-12-68 href=#__codelineno-12-68></a><span class=w>        </span><span class=p>}]</span><span class=w></span>
<a id=__codelineno-12-69 name=__codelineno-12-69 href=#__codelineno-12-69></a><span class=w>    </span><span class=p>}</span><span class=w></span>
<a id=__codelineno-12-70 name=__codelineno-12-70 href=#__codelineno-12-70></a><span class=p>}</span><span class=w></span>
</code></pre></div> <p>The following table lists the configurable attributes for registry synchronization.</p> <table> <colgroup> <col style="width: 25%"> <col style="width: 75%"> </colgroup> <thead> <tr class=header> <th style="text-align: left;">Attribute</th> <th style="text-align: left;">Description</th> </tr> </thead> <tbody> <tr class=odd> <td style="text-align: left;"><p><code>enable</code></p></td> <td style="text-align: left;"><p>If this attribute is missing, registry synchronization is enabled by default. Registry synchronization can be disabled by setting this attribute to <code>false</code>.</p></td> </tr> <tr class=even> <td style="text-align: left;"><p><code>credentialsFile</code></p></td> <td style="text-align: left;"><p>The location of a local credentials file containing credentials for other registries.</p></td> </tr> <tr class=odd> <td style="text-align: left;"><p><code>urls</code></p></td> <td style="text-align: left;"><p>The URL of an upstream image registry. You can specify a comma-separated list of multiple URLs for the same registry in case one or more fails.</p></td> </tr> <tr class=even> <td style="text-align: left;"><p><code>onDemand</code></p></td> <td style="text-align: left;"><ul> <li><p><code>false</code>: Pull all images not found in the local registry.</p></li> <li><p><code>true</code>: Pull any image not found in the local registry only when needed.</p></li> </ul></td> </tr> <tr class=odd> <td style="text-align: left;"><p><code>pollInterval</code></p></td> <td style="text-align: left;"><p>The period in seconds between polling of remote registries. If no value is specified, no periodic polling will occur.</p></td> </tr> <tr class=even> <td style="text-align: left;"><p><code>tlsVerify</code></p></td> <td style="text-align: left;"><ul> <li><p><code>false</code>: TLS will not be verified.</p></li> <li><p><code>true</code>: (Default) TLS will be verified.</p></li> </ul></td> </tr> <tr class=odd> <td style="text-align: left;"><p><code>certDir</code></p></td> <td style="text-align: left;"><p>If a path is specified, use certificates at this path. If no path is specified, use the default certificates directory.</p></td> </tr> <tr class=even> <td style="text-align: left;"><p><code>maxRetries</code></p></td> <td style="text-align: left;"><p>The maximum number of retries if an error occurs during either an on-demand or periodic synchronization. If no value is specified, no retries will occur.</p></td> </tr> <tr class=odd> <td style="text-align: left;"><p><code>retryDelay</code></p></td> <td style="text-align: left;"><p>The interval in seconds between retries. This attribute is mandatory when maxRetries is configured.</p></td> </tr> <tr class=even> <td style="text-align: left;"><p><code>onlySigned</code></p></td> <td style="text-align: left;"><ul> <li><p><code>false</code>: Synchronize signed or unsigned images.</p></li> <li><p><code>true</code>: Synchronize only signed images (either notary or cosigned).</p></li> </ul></td> </tr> <tr class=odd> <td style="text-align: left;"><p><code>content</code></p></td> <td style="text-align: left;"><p>The included attributes in this section specify which content will be periodically pulled. If this section is not populated, periodically polling will not occur. The included attributes can also filter which on-demand images are pulled.</p></td> </tr> <tr class=even> <td style="text-align: left;"><p><code>prefix</code></p></td> <td style="text-align: left;"><p>On the remote server, the path from which images will be pulled. This path can be a string that exactly matches the remote path, or it can be a <code>glob</code> pattern. For example, the path can include a wildcard (<strong>*</strong>) or a recursive wildcard (<strong>**</strong>).</p></td> </tr> <tr class=odd> <td style="text-align: left;"><p><code>destination</code></p></td> <td style="text-align: left;"><p>Specifies the path under which pulled images are to be stored.</p></td> </tr> <tr class=even> <td style="text-align: left;"><p><code>stripPrefix</code></p></td> <td style="text-align: left;"><p>Specifies whether the prefix path from the source registry will be retained or replaced when the image is stored in the [zotLowerName] registry.</p> <ul> <li><p><code>false</code>: Retain the source prefix, append it to the destination path.</p></li> <li><p><code>true</code>: Remove the source prefix.</p> <div class=note> <p>Note: If the source prefix was specified with meta-characters (such as <strong>**</strong>), only the prefix segments that precede the meta-characters are removed. Any remaining path segments are appended to the destination path.</p> </div></li> </ul></td> </tr> <tr class=odd> <td style="text-align: left;"><p><code>tags</code></p></td> <td style="text-align: left;"><p>The included attributes in this optional section specify how remote images will be selected for synchronization based on image tags.</p></td> </tr> <tr class=even> <td style="text-align: left;"><p><code>regex</code></p></td> <td style="text-align: left;"><p>Specifies a regular expression for matching image tags. Images whose tags do not match the expression are not pulled.</p></td> </tr> <tr class=odd> <td style="text-align: left;"><p><code>semver</code></p></td> <td style="text-align: left;"><p>Specifies whether image tags are to be filtered by <a href=https://semver.org/ >Semantic Versioning</a> (semver) compliance.</p> <ul> <li><p><code>false</code>: Do not filter by semantic versioning</p></li> <li><p><code>true</code>: Filter by semantic versioning</p></li> </ul></td> </tr> </tbody> </table> <h2 id=monitoring>Monitoring<a class=headerlink href=#monitoring title="Permanent link">&para;</a></h2> <h3 id=logging>Logging<a class=headerlink href=#logging title="Permanent link">&para;</a></h3> <p>Logging for <code>zot</code> operations is configured with the <code>log</code> attribute in the configuration file, as shown in the following example.</p> <div class=highlight><pre><span></span><code><a id=__codelineno-13-1 name=__codelineno-13-1 href=#__codelineno-13-1></a><span class=nt>&quot;log&quot;</span><span class=p>:{</span><span class=w></span>
<a id=__codelineno-13-2 name=__codelineno-13-2 href=#__codelineno-13-2></a><span class=w>  </span><span class=nt>&quot;level&quot;</span><span class=p>:</span><span class=s2>&quot;debug&quot;</span><span class=p>,</span><span class=w></span>
<a id=__codelineno-13-3 name=__codelineno-13-3 href=#__codelineno-13-3></a><span class=w>  </span><span class=nt>&quot;output&quot;</span><span class=p>:</span><span class=s2>&quot;/tmp/zot.log&quot;</span><span class=p>,</span><span class=w></span>
<a id=__codelineno-13-4 name=__codelineno-13-4 href=#__codelineno-13-4></a><span class=w>  </span><span class=nt>&quot;audit&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;/tmp/zot-audit.log&quot;</span><span class=w></span>
<a id=__codelineno-13-5 name=__codelineno-13-5 href=#__codelineno-13-5></a><span class=p>}</span><span class=w></span>
</code></pre></div> <p>The following table lists the configurable attributes.</p> <table> <colgroup> <col style="width: 25%"> <col style="width: 75%"> </colgroup> <thead> <tr class=header> <th style="text-align: left;">Attribute</th> <th style="text-align: left;">Description</th> </tr> </thead> <tbody> <tr class=odd> <td style="text-align: left;"><p><code>level</code></p></td> <td style="text-align: left;"><p>The minimum level for logged events. The levels are:<br> <code>panic,</code> <code>fatal,</code> <code>error,</code> <code>warn,</code> <code>info,</code> <code>debug,</code> and <code>trace.</code></p></td> </tr> <tr class=even> <td style="text-align: left;"><p><code>output</code></p></td> <td style="text-align: left;"><p>The filesystem path for the log output file. The default is <code>stdout</code>.</p></td> </tr> <tr class=odd> <td style="text-align: left;"><p><code>audit</code></p></td> <td style="text-align: left;"><p>(Optional) If a filesystem path is specified for audit logging, an audit log is enabled and will be stored at the specified path.</p></td> </tr> </tbody> </table> <h3 id=metrics>Metrics<a class=headerlink href=#metrics title="Permanent link">&para;</a></h3> <p>The available methods for collecting metrics varies depending on whether your <code>zot</code> installation is a minimal (distribution-spec-only) image or a full image including extensions.</p> <h4 id=enabling-metrics-for-a-full-zot-image-with-extensions>Enabling metrics for a full <code>zot</code> image with extensions<a class=headerlink href=#enabling-metrics-for-a-full-zot-image-with-extensions title="Permanent link">&para;</a></h4> <p>Add the <code>metrics</code> attribute under <code>extensions</code> in the configuration file to enable and configure metrics, as shown in the following example.</p> <div class=highlight><pre><span></span><code><a id=__codelineno-14-1 name=__codelineno-14-1 href=#__codelineno-14-1></a><span class=nt>&quot;extensions&quot;</span><span class=p>:</span><span class=w> </span><span class=p>{</span><span class=w></span>
<a id=__codelineno-14-2 name=__codelineno-14-2 href=#__codelineno-14-2></a><span class=w>    </span><span class=nt>&quot;metrics&quot;</span><span class=p>:</span><span class=w> </span><span class=p>{</span><span class=w></span>
<a id=__codelineno-14-3 name=__codelineno-14-3 href=#__codelineno-14-3></a><span class=w>        </span><span class=nt>&quot;enable&quot;</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=p>,</span><span class=w></span>
<a id=__codelineno-14-4 name=__codelineno-14-4 href=#__codelineno-14-4></a><span class=w>        </span><span class=nt>&quot;prometheus&quot;</span><span class=p>:</span><span class=w> </span><span class=p>{</span><span class=w></span>
<a id=__codelineno-14-5 name=__codelineno-14-5 href=#__codelineno-14-5></a><span class=w>            </span><span class=nt>&quot;path&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;/metrics&quot;</span><span class=w></span>
<a id=__codelineno-14-6 name=__codelineno-14-6 href=#__codelineno-14-6></a><span class=w>        </span><span class=p>}</span><span class=w></span>
<a id=__codelineno-14-7 name=__codelineno-14-7 href=#__codelineno-14-7></a><span class=w>    </span><span class=p>}</span><span class=w></span>
<a id=__codelineno-14-8 name=__codelineno-14-8 href=#__codelineno-14-8></a><span class=p>}</span><span class=w></span>
</code></pre></div> <p>The following table lists the configurable attributes for metrics collection.</p> <table> <thead> <tr> <th>Attribute</th> <th>Description</th> </tr> </thead> <tbody> <tr> <td><code>enable</code></td> <td>If this attribute is missing, metrics collection is enabled by default. Metrics collection can be disabled by setting this attribute to <code>false</code>.</td> </tr> <tr> <td><code>prometheus</code></td> <td>Attributes under <code>prometheus</code> contain configuration settings for the Prometheus node exporter.</td> </tr> <tr> <td><code>path</code></td> <td>The server path on which metrics will be exposed.</td> </tr> </tbody> </table> <h4 id=collecting-metrics-from-a-minimal-zot-image-using-a-node-exporter>Collecting metrics from a minimal <code>zot</code> image using a node exporter<a class=headerlink href=#collecting-metrics-from-a-minimal-zot-image-using-a-node-exporter title="Permanent link">&para;</a></h4> <p>Although a minimal <code>zot</code> image does not contain a node exporter, it exposes internal metrics in a Prometheus format for collection by a separate node exporter tool such as zxp. The <code>zot</code> companion binary zxp is a node exporter that can be deployed with a minimal <code>zot</code> image in order to scrape metrics from the <code>zot</code> server.</p> <p>Metrics are automatically enabled in the <code>zot</code> server upon first scrape from the node exporter and the metrics are automatically disabled when the node exporter has not performed any scraping for some period. No extra <code>zot</code> configuration is needed for this behavior.</p> <p>You can download the zxp executable binary for your server platform and architecture under "Assets" on the GitHub <a href=https://github.com/project-zot/zot/releases>zot releases</a> page.</p> <p>The binary image is named using the target platform and architecture. For example, the binary for an Intel-based MacOS server is <code>zxp-darwin-amd64</code>. To configure the zxp example image, run this command:</p> <p><code>zxp-darwin-amd64 config zxp-config-file</code></p> <blockquote> <p><strong>Tip:</strong> For convenience, you can rename the binary image file to simply <code>zxp.</code></p> <p><strong>Tip:</strong> A sample Dockerfile for zxp is available at <a href=https://github.com/project-zot/zot/blob/main/Dockerfile-zxp>Dockerfile-zxp</a>.</p> </blockquote> <p>The configuration file of zxp contains connection details for the <code>zot</code> server from which it will scrape metrics. The following JSON structure is an example of the <code>zxp-config-file</code> contents:</p> <div class=highlight><pre><span></span><code><a id=__codelineno-15-1 name=__codelineno-15-1 href=#__codelineno-15-1></a><span class=p>{</span><span class=w></span>
<a id=__codelineno-15-2 name=__codelineno-15-2 href=#__codelineno-15-2></a><span class=w>    </span><span class=nt>&quot;Server&quot;</span><span class=p>:</span><span class=w> </span><span class=p>{</span><span class=w></span>
<a id=__codelineno-15-3 name=__codelineno-15-3 href=#__codelineno-15-3></a><span class=w>        </span><span class=nt>&quot;protocol&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;http&quot;</span><span class=p>,</span><span class=w></span>
<a id=__codelineno-15-4 name=__codelineno-15-4 href=#__codelineno-15-4></a><span class=w>        </span><span class=nt>&quot;host&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;127.0.0.1&quot;</span><span class=p>,</span><span class=w></span>
<a id=__codelineno-15-5 name=__codelineno-15-5 href=#__codelineno-15-5></a><span class=w>        </span><span class=nt>&quot;port&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;8080&quot;</span><span class=w></span>
<a id=__codelineno-15-6 name=__codelineno-15-6 href=#__codelineno-15-6></a><span class=w>    </span><span class=p>},</span><span class=w></span>
<a id=__codelineno-15-7 name=__codelineno-15-7 href=#__codelineno-15-7></a><span class=w>    </span><span class=nt>&quot;Exporter&quot;</span><span class=p>:</span><span class=w> </span><span class=p>{</span><span class=w></span>
<a id=__codelineno-15-8 name=__codelineno-15-8 href=#__codelineno-15-8></a><span class=w>        </span><span class=nt>&quot;port&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;8081&quot;</span><span class=p>,</span><span class=w></span>
<a id=__codelineno-15-9 name=__codelineno-15-9 href=#__codelineno-15-9></a><span class=w>        </span><span class=nt>&quot;log&quot;</span><span class=p>:</span><span class=w> </span><span class=p>{</span><span class=w></span>
<a id=__codelineno-15-10 name=__codelineno-15-10 href=#__codelineno-15-10></a><span class=w>            </span><span class=nt>&quot;level&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;debug&quot;</span><span class=w></span>
<a id=__codelineno-15-11 name=__codelineno-15-11 href=#__codelineno-15-11></a><span class=w>        </span><span class=p>}</span><span class=w></span>
<a id=__codelineno-15-12 name=__codelineno-15-12 href=#__codelineno-15-12></a><span class=w>    </span><span class=p>}</span><span class=w></span>
<a id=__codelineno-15-13 name=__codelineno-15-13 href=#__codelineno-15-13></a><span class=p>}</span><span class=w></span>
</code></pre></div> <blockquote> <p><strong>Tip:</strong> The zxp module does not have Prometheus integration.</p> <p>The zxp module is not needed with a full <code>zot</code> image.</p> </blockquote> <p><a name=_zb_chapter></a></p> <h2 id=benchmarking-zot-with-zb>Benchmarking zot with zb<a class=headerlink href=#benchmarking-zot-with-zb title="Permanent link">&para;</a></h2> <p>The <a href=https://github.com/project-zot/zot>zot project</a> includes the <code>zb</code> tool, which allows you to benchmark a <code>zot</code> registry or any other container image registry that conforms to the <a href=https://github.com/opencontainers/distribution-spec>OCI Distribution Specification</a> published by the Open Container Initiative (OCI).</p> <p>The <code>zb</code> tool is useful for benchmarking <code>zot</code> registry workloads in scenarios such as the following:</p> <ul> <li> <p>comparing configuration changes</p> </li> <li> <p>comparing software versions</p> </li> <li> <p>comparing hardware/deployment environments</p> </li> <li> <p>comparing with other registries</p> </li> </ul> <p>For detailed information about benchmarking with <code>zb</code>, see <a href=../../articles/benchmarking-with-zb/ >Benchmarking zot with zb</a>.</p> <h2 id=enterprise-wide-zot>Enterprise-wide zot<a class=headerlink href=#enterprise-wide-zot title="Permanent link">&para;</a></h2> <h3 id=clustering-zot>Clustering <code>zot</code><a class=headerlink href=#clustering-zot title="Permanent link">&para;</a></h3> <p>To ensure high-availability of the registry,<code>zot</code> supports a clustering scheme with stateless <code>zot</code> instances/replicas fronted by a loadbalancer and a shared remote backend storage. This scheme allows the registry service to remain available even if a few replicas fail or become unavailable. Loadbalancing across many zot replicas can also increase aggregate network throughput.</p> <p>For detailed information about clustering with <code>zot</code>, see <a href=../../articles/clustering/ >zot Clustering</a>.</p> <h2 id=maintenance>Maintenance<a class=headerlink href=#maintenance title="Permanent link">&para;</a></h2> <h3 id=scrubbing-the-image-registry>Scrubbing the image registry<a class=headerlink href=#scrubbing-the-image-registry title="Permanent link">&para;</a></h3> <p>To check the integrity of the filesystem and the data in the registry, you can schedule a periodic scrub operation. The scrub process traverses the filesystem, verifying that all data blocks are readable. While running, the process may slightly reduce the registry performance.</p> <p>To enable scrubbing, add the <code>scrub</code> attribute under <code>extensions</code> in the configuration file, as shown in the following example:</p> <div class=highlight><pre><span></span><code><a id=__codelineno-16-1 name=__codelineno-16-1 href=#__codelineno-16-1></a><span class=nt>&quot;extensions&quot;</span><span class=p>:</span><span class=w> </span><span class=p>{</span><span class=w></span>
<a id=__codelineno-16-2 name=__codelineno-16-2 href=#__codelineno-16-2></a><span class=w>  </span><span class=nt>&quot;scrub&quot;</span><span class=p>:</span><span class=w> </span><span class=p>{</span><span class=w></span>
<a id=__codelineno-16-3 name=__codelineno-16-3 href=#__codelineno-16-3></a><span class=w>    </span><span class=nt>&quot;enable&quot;</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=p>,</span><span class=w></span>
<a id=__codelineno-16-4 name=__codelineno-16-4 href=#__codelineno-16-4></a><span class=w>    </span><span class=nt>&quot;interval&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;24h&quot;</span><span class=w></span>
<a id=__codelineno-16-5 name=__codelineno-16-5 href=#__codelineno-16-5></a><span class=w>  </span><span class=p>}</span><span class=w></span>
<a id=__codelineno-16-6 name=__codelineno-16-6 href=#__codelineno-16-6></a><span class=p>}</span><span class=w></span>
</code></pre></div> <p>The following table lists the configurable attributes for scrubbing the registry.</p> <table> <thead> <tr> <th>Attribute</th> <th>Description</th> </tr> </thead> <tbody> <tr> <td><code>enable</code></td> <td>If this attribute is missing, registry scrubbing is enabled by default. Scrubbing can be disabled by setting this attribute to <code>false</code>.</td> </tr> <tr> <td><code>interval</code></td> <td>The time interval between periodic scrub operations. This value must be at least two hours (<code>2h</code>).</td> </tr> </tbody> </table> <h3 id=searching-and-querying-images>Searching and querying images<a class=headerlink href=#searching-and-querying-images title="Permanent link">&para;</a></h3> <p>While basic searching is always enabled for images in the <code>zot</code> registry, you can enable enhanced registry searching and filtering using graphQL.</p> <p>Add the <code>search</code> attribute under <code>extensions</code> in the configuration file to enable and configure the enhanced search extension, as shown in the following example.</p> <div class=highlight><pre><span></span><code><a id=__codelineno-17-1 name=__codelineno-17-1 href=#__codelineno-17-1></a><span class=nt>&quot;extensions&quot;</span><span class=p>:</span><span class=w> </span><span class=p>{</span><span class=w></span>
<a id=__codelineno-17-2 name=__codelineno-17-2 href=#__codelineno-17-2></a><span class=w>    </span><span class=nt>&quot;search&quot;</span><span class=p>:</span><span class=w> </span><span class=p>{</span><span class=w></span>
<a id=__codelineno-17-3 name=__codelineno-17-3 href=#__codelineno-17-3></a><span class=w>        </span><span class=nt>&quot;enable&quot;</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=p>,</span><span class=w></span>
<a id=__codelineno-17-4 name=__codelineno-17-4 href=#__codelineno-17-4></a><span class=w>        </span><span class=nt>&quot;cve&quot;</span><span class=p>:</span><span class=w> </span><span class=p>{</span><span class=w></span>
<a id=__codelineno-17-5 name=__codelineno-17-5 href=#__codelineno-17-5></a><span class=w>            </span><span class=nt>&quot;updateInterval&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;2h&quot;</span><span class=w></span>
<a id=__codelineno-17-6 name=__codelineno-17-6 href=#__codelineno-17-6></a><span class=w>        </span><span class=p>}</span><span class=w></span>
<a id=__codelineno-17-7 name=__codelineno-17-7 href=#__codelineno-17-7></a><span class=w>    </span><span class=p>}</span><span class=w></span>
<a id=__codelineno-17-8 name=__codelineno-17-8 href=#__codelineno-17-8></a><span class=p>}</span><span class=w></span>
</code></pre></div> <p>The following table lists the configurable attributes for enhanced search.</p> <table> <thead> <tr> <th>Attribute</th> <th>Description</th> </tr> </thead> <tbody> <tr> <td><code>enable</code></td> <td>If this attribute is missing, enhanced search is enabled by default. Enhanced search can be disabled by setting this attribute to <code>false</code>.</td> </tr> <tr> <td><code>cve</code></td> <td>Extends enhanced search to allow searching of Common Vulnerabilities and Exposures (CVE).</td> </tr> <tr> <td><code>updateInterval</code></td> <td>Sets the interval at which the searchable database of CVE items is refreshed.</td> </tr> </tbody> </table> <h2 id=reference>Reference<a class=headerlink href=#reference title="Permanent link">&para;</a></h2> <p><a name=_zli-command-reference></a></p> <h3 id=zli-command-reference>zli Command Reference<a class=headerlink href=#zli-command-reference title="Permanent link">&para;</a></h3> <h4 id=zli>zli<a class=headerlink href=#zli title="Permanent link">&para;</a></h4> <div class=highlight><pre><span></span><code>$ bin/zli --help

Usage:
  zli [flags]
  zli [command]

Available Commands:
  completion  Generate the autocompletion script for the specified shell
  config      Configure zot registry parameters for CLI
  cve         Lookup CVEs in images hosted on the zot registry
  help        Help about any command
  images      List images hosted on the zot registry

Flags:
  -h, --help      help for zli
  -v, --version   show the version and exit

Use &quot;zli [command] --help&quot; for more information about a command.
</code></pre></div> <p><a name=_zli-completion></a></p> <h4 id=zli-completion>zli completion<a class=headerlink href=#zli-completion title="Permanent link">&para;</a></h4> <p>This command generates the autocompletion script for <code>zli</code> for the specified shell. See each sub-command’s help for details on how to use the generated script.</p> <div class=highlight><pre><span></span><code>$ bin/zli completion --help

Usage:
  zli completion [command]

Available Commands:
  bash        Generate the autocompletion script for bash
  fish        Generate the autocompletion script for fish
  powershell  Generate the autocompletion script for powershell
  zsh         Generate the autocompletion script for zsh

Flags:
  -h, --help   help for completion

Use &quot;zli completion [command] --help&quot; for more information about a command.
</code></pre></div> <p><a name=_zli-config></a></p> <h4 id=zli-config>zli config<a class=headerlink href=#zli-config title="Permanent link">&para;</a></h4> <p>This command modifies and lists modified settings for a running zot registry.</p> <div class=highlight><pre><span></span><code>$ bin/zli config --help

Usage:
  zli config &lt;config-name&gt; [variable] [value] [flags]
  zli config [command]

Examples:
  zli config add main https://zot-foo.com:8080
  zli config main url
  zli config main --list
  zli config --list

Available Commands:
  add         Add configuration for a zot registry

Flags:
  -h, --help    help for config
  -l, --list    List configurations
      --reset   Reset a variable value

Use &quot;zli config [command] --help&quot; for more information about a command.

Useful variables:
  url       zot server URL
  showspinner   show spinner while loading data [true/false]
  verify-tls    enable TLS certificate verification of the server [default: true]
</code></pre></div> <p><a name=_zli-cve></a></p> <h4 id=zli-cve>zli cve<a class=headerlink href=#zli-cve title="Permanent link">&para;</a></h4> <p>This command lists CVEs (Common Vulnerabilities and Exposures) of images hosted on the zot registry</p> <div class=highlight><pre><span></span><code>$ ./zli cve --help

Usage:
  zli cve [config-name] [flags]

Flags:
  -i, --cve-id string   List images affected by a CVE
      --fixed           List tags which have fixed a CVE
  -h, --help            help for cve
  -I, --image string    List CVEs by IMAGENAME[:TAG]
  -o, --output string   Specify output format [text/json/yaml]. JSON and YAML format return all info for CVEs
      --url string      Specify zot server URL if config-name is not mentioned
  -u, --user string     User Credentials of zot server in USERNAME:PASSWORD format
</code></pre></div> <p><a name=_zli-images></a></p> <h4 id=zli-images>zli images<a class=headerlink href=#zli-images title="Permanent link">&para;</a></h4> <p>This command lists images hosted on the zot registry.</p> <div class=highlight><pre><span></span><code>$ ./zli images --help

Usage:
  zli images [config-name] [flags]

Flags:
  -d, --digest string   List images containing a specific manifest, config, or layer digest
  -h, --help            help for images
  -n, --name string     List image details by name
  -o, --output string   Specify output format [text/json/yaml]
      --url string      Specify zot server URL if config-name is not mentioned
  -u, --user string     User Credentials of zot server in &quot;username:password&quot; format
      --verbose         Show verbose output

Run &#39;zli config -h&#39; for details on [config-name] argument
</code></pre></div> <p><a name=_zli-repos></a></p> <h4 id=zli-repos>zli repos<a class=headerlink href=#zli-repos title="Permanent link">&para;</a></h4> <p>This command lists all repositories in the zot registry.</p> <div class=highlight><pre><span></span><code>$ ./zli repos --help

Usage:
  zli repos [config-name] [flags]

Flags:
  -h, --help          help for repos
      --url string    Specify zot server URL if config-name is not mentioned
  -u, --user string   User Credentials of zot server in &quot;username:password&quot; format

Run &#39;zli config -h&#39; for details on [config-name] argument
</code></pre></div> </article> </div> </div> <a href=# class="md-top md-icon" data-md-component=top hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg> Back to top </a> </main> <footer class=md-footer> <nav class="md-footer__inner md-grid" aria-label=Footer> <a href=../../install-guides/install-guide-k8s/ class="md-footer__link md-footer__link--prev" aria-label="Previous: Installing zot with Kubernetes and Helm" rel=prev> <div class="md-footer__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg> </div> <div class=md-footer__title> <div class=md-ellipsis> <span class=md-footer__direction> Previous </span> Installing zot with Kubernetes and Helm </div> </div> </a> <a href=../../developer-guide/developer-guide/ class="md-footer__link md-footer__link--next" aria-label="Next: zot Developer Guide" rel=next> <div class=md-footer__title> <div class=md-ellipsis> <span class=md-footer__direction> Next </span> zot Developer Guide </div> </div> <div class="md-footer__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4Z"/></svg> </div> </a> </nav> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-copyright> <div class=md-copyright__highlight> Copyright &copy; 2017 - 2022 Cisco Systems Inc., All Rights Reserved. </div> </div> <div class=md-social> <a href=https://github.com/project-zot/zot.git target=_blank rel=noopener title=github.com class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 496 512"><!-- Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg> </a> <a href=https://twitter.com/zothub target=_blank rel=noopener title=twitter.com class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 512 512"><!-- Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"/></svg> </a> <a href=https://cloud-native.slack.com/archives/C03EGRE4QGH target=_blank rel=noopener title=cloud-native.slack.com class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M94.12 315.1c0 25.9-21.16 47.06-47.06 47.06S0 341 0 315.1c0-25.9 21.16-47.06 47.06-47.06h47.06v47.06zm23.72 0c0-25.9 21.16-47.06 47.06-47.06s47.06 21.16 47.06 47.06v117.84c0 25.9-21.16 47.06-47.06 47.06s-47.06-21.16-47.06-47.06V315.1zm47.06-188.98c-25.9 0-47.06-21.16-47.06-47.06S139 32 164.9 32s47.06 21.16 47.06 47.06v47.06H164.9zm0 23.72c25.9 0 47.06 21.16 47.06 47.06s-21.16 47.06-47.06 47.06H47.06C21.16 243.96 0 222.8 0 196.9s21.16-47.06 47.06-47.06H164.9zm188.98 47.06c0-25.9 21.16-47.06 47.06-47.06 25.9 0 47.06 21.16 47.06 47.06s-21.16 47.06-47.06 47.06h-47.06V196.9zm-23.72 0c0 25.9-21.16 47.06-47.06 47.06-25.9 0-47.06-21.16-47.06-47.06V79.06c0-25.9 21.16-47.06 47.06-47.06 25.9 0 47.06 21.16 47.06 47.06V196.9zM283.1 385.88c25.9 0 47.06 21.16 47.06 47.06 0 25.9-21.16 47.06-47.06 47.06-25.9 0-47.06-21.16-47.06-47.06v-47.06h47.06zm0-23.72c-25.9 0-47.06-21.16-47.06-47.06 0-25.9 21.16-47.06 47.06-47.06h117.84c25.9 0 47.06 21.16 47.06 47.06 0 25.9-21.16 47.06-47.06 47.06H283.1z"/></svg> </a> </div> </div> </div> </footer> </div> <div class=md-dialog data-md-component=dialog> <div class="md-dialog__inner md-typeset"></div> </div> <script id=__config type=application/json>{"base": "../..", "features": ["content.code.annotate", "content.tooltips", "navigation.instant", "navigation.tracking", "navigation.top", "navigation.indexes", "search.suggest", "search.highlight", "search.share", "toc.follow", "announce.dismiss"], "search": "../../assets/javascripts/workers/search.16e2a7d4.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version.title": "Select version"}, "version": {"default": "latest", "provider": "mike"}}</script> <script src=../../assets/javascripts/bundle.d6c3db9e.min.js></script> </body> </html>